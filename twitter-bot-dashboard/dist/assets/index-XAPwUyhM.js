(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function gE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function vS(){if(N_)return dl;N_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var D_;function ES(){return D_||(D_=1,vd.exports=vS()),vd.exports}var M=ES(),Ed={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function TS(){if(O_)return _t;O_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function ft(V,X,et){this.props=V,this.context=X,this.refs=W,this.updater=et||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function mt(V,X,et){this.props=V,this.context=X,this.refs=W,this.updater=et||Z}var Qt=mt.prototype=new Et;Qt.constructor=mt,nt(Qt,ft.prototype),Qt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,X,et){var rt=et.ref;return{$$typeof:a,type:V,key:X,ref:rt!==void 0?rt:null,props:et}}function x(V,X){return I(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return X[et]})}var w=/\/+/g;function ie(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function Ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ut,Ut):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,et,rt,pt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case a:case t:Mt=!0;break;case S:return Mt=V._init,F(Mt(V._payload),X,et,rt,pt)}}if(Mt)return pt=pt(V),Mt=rt===""?"."+ie(V,0):rt,Wt(pt)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),F(pt,X,et,"",function(nr){return nr})):pt!=null&&(O(pt)&&(pt=x(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),X.push(pt)),1;Mt=0;var De=rt===""?".":rt+":";if(Wt(V))for(var se=0;se<V.length;se++)rt=V[se],St=De+ie(rt,se),Mt+=F(rt,X,et,St,pt);else if(se=H(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,St=De+ie(rt,se++),Mt+=F(rt,X,et,St,pt);else if(St==="object"){if(typeof V.then=="function")return F(Ne(V),X,et,rt,pt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(V,X,et){if(V==null)return V;var rt=[],pt=0;return F(V,rt,"","",function(St){return X.call(et,St,pt++)}),rt}function ct(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qt={map:tt,forEach:function(V,X,et){tt(V,function(){X.apply(this,arguments)},et)},count:function(V){var X=0;return tt(V,function(){X++}),X},toArray:function(V){return tt(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=A,_t.Children=qt,_t.Component=ft,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=r,_t.Suspense=y,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,X,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=nt({},V.props),pt=V.key;if(X!=null)for(St in X.key!==void 0&&(pt=""+X.key),X)!b.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(rt[St]=X[St]);var St=arguments.length-2;if(St===1)rt.children=et;else if(1<St){for(var Mt=Array(St),De=0;De<St;De++)Mt[De]=arguments[De+2];rt.children=Mt}return I(V.type,pt,rt)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},_t.createElement=function(V,X,et){var rt,pt={},St=null;if(X!=null)for(rt in X.key!==void 0&&(St=""+X.key),X)b.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=X[rt]);var Mt=arguments.length-2;if(Mt===1)pt.children=et;else if(1<Mt){for(var De=Array(Mt),se=0;se<Mt;se++)De[se]=arguments[se+2];pt.children=De}if(V&&V.defaultProps)for(rt in Mt=V.defaultProps,Mt)pt[rt]===void 0&&(pt[rt]=Mt[rt]);return I(V,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:g,render:V}},_t.isValidElement=O,_t.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ct}},_t.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},_t.startTransition=function(V){var X=C.T,et={};C.T=et;try{var rt=V(),pt=C.S;pt!==null&&pt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Lt)}catch(St){Lt(St)}finally{X!==null&&et.types!==null&&(X.types=et.types),C.T=X}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(V){return C.H.use(V)},_t.useActionState=function(V,X,et){return C.H.useActionState(V,X,et)},_t.useCallback=function(V,X){return C.H.useCallback(V,X)},_t.useContext=function(V){return C.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},_t.useEffect=function(V,X){return C.H.useEffect(V,X)},_t.useEffectEvent=function(V){return C.H.useEffectEvent(V)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(V,X,et){return C.H.useImperativeHandle(V,X,et)},_t.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},_t.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},_t.useMemo=function(V,X){return C.H.useMemo(V,X)},_t.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},_t.useReducer=function(V,X,et){return C.H.useReducer(V,X,et)},_t.useRef=function(V){return C.H.useRef(V)},_t.useState=function(V){return C.H.useState(V)},_t.useSyncExternalStore=function(V,X,et){return C.H.useSyncExternalStore(V,X,et)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.0",_t}var V_;function um(){return V_||(V_=1,Ed.exports=TS()),Ed.exports}var ce=um();const AS=gE(ce);var Td={exports:{}},ml={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function SS(){return M_||(M_=1,(function(a){function t(F,tt){var ct=F.length;F.push(tt);t:for(;0<ct;){var Lt=ct-1>>>1,qt=F[Lt];if(0<l(qt,tt))F[Lt]=tt,F[ct]=qt,ct=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var tt=F[0],ct=F.pop();if(ct!==tt){F[0]=ct;t:for(var Lt=0,qt=F.length,V=qt>>>1;Lt<V;){var X=2*(Lt+1)-1,et=F[X],rt=X+1,pt=F[rt];if(0>l(et,ct))rt<qt&&0>l(pt,et)?(F[Lt]=pt,F[rt]=ct,Lt=rt):(F[Lt]=et,F[X]=ct,Lt=X);else if(rt<qt&&0>l(pt,ct))F[Lt]=pt,F[rt]=ct,Lt=rt;else break t}}return tt}function l(F,tt){var ct=F.sortIndex-tt.sortIndex;return ct!==0?ct:F.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,A=null,D=3,H=!1,Z=!1,nt=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Qt(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=F)r(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Wt(F){if(nt=!1,Qt(F),!Z)if(i(y)!==null)Z=!0,Ut||(Ut=!0,L());else{var tt=i(_);tt!==null&&Ne(Wt,tt.startTime-F)}}var Ut=!1,C=-1,b=5,I=-1;function x(){return W?!0:!(a.unstable_now()-I<b)}function O(){if(W=!1,Ut){var F=a.unstable_now();I=F;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,Et(C),C=-1),H=!0;var ct=D;try{e:{for(Qt(F),A=i(y);A!==null&&!(A.expirationTime>F&&x());){var Lt=A.callback;if(typeof Lt=="function"){A.callback=null,D=A.priorityLevel;var qt=Lt(A.expirationTime<=F);if(F=a.unstable_now(),typeof qt=="function"){A.callback=qt,Qt(F),tt=!0;break e}A===i(y)&&r(y),Qt(F)}else r(y);A=i(y)}if(A!==null)tt=!0;else{var V=i(_);V!==null&&Ne(Wt,V.startTime-F),tt=!1}}break t}finally{A=null,D=ct,H=!1}tt=void 0}}finally{tt?L():Ut=!1}}}var L;if(typeof mt=="function")L=function(){mt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=O,L=function(){ie.postMessage(null)}}else L=function(){ft(O,0)};function Ne(F,tt){C=ft(function(){F(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(F){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ct=D;D=tt;try{return F()}finally{D=ct}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=D;D=F;try{return tt()}finally{D=ct}},a.unstable_scheduleCallback=function(F,tt,ct){var Lt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,F={id:S++,callback:tt,priorityLevel:F,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Lt?(F.sortIndex=ct,t(_,F),i(y)===null&&F===i(_)&&(nt?(Et(C),C=-1):nt=!0,Ne(Wt,ct-Lt))):(F.sortIndex=qt,t(y,F),Z||H||(Z=!0,Ut||(Ut=!0,L()))),F},a.unstable_shouldYield=x,a.unstable_wrapCallback=function(F){var tt=D;return function(){var ct=D;D=tt;try{return F.apply(this,arguments)}finally{D=ct}}}})(Sd)),Sd}var x_;function bS(){return x_||(x_=1,Ad.exports=SS()),Ad.exports}var bd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function wS(){if(U_)return Ke;U_=1;var a=um();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Ke.flushSync=function(y){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=S,r.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:H}):S==="script"&&r.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin);r.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var L_;function RS(){if(L_)return bd.exports;L_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bd.exports=wS(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function IS(){if(k_)return ml;k_=1;var a=bS(),t=um(),i=RS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],qt=-1;function V(e){return{current:e}}function X(e){0>qt||(e.current=Lt[qt],Lt[qt]=null,qt--)}function et(e,n){qt++,Lt[qt]=e.current,e.current=n}var rt=V(null),pt=V(null),St=V(null),Mt=V(null);function De(e,n){switch(et(St,n),et(pt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),et(rt,e)}function se(){X(rt),X(pt),X(St)}function nr(e){e.memoizedState!==null&&et(Mt,e);var n=rt.current,s=Wy(n,e.type);n!==s&&(et(pt,e),et(rt,s))}function Yr(e){pt.current===e&&(X(rt),X(pt)),Mt.current===e&&(X(Mt),ul._currentValue=ct)}var Xr,$r;function Zn(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var lo=!1;function ir(e,n){if(!e||lo)return"";lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Zn("Activity");default:return""}}function co(e){try{var n="",s=null;do n+=uo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=a.unstable_scheduleCallback,is=a.unstable_cancelCallback,Eh=a.unstable_shouldYield,Fl=a.unstable_requestPaint,Je=a.unstable_now,sr=a.unstable_getCurrentPriorityLevel,ho=a.unstable_ImmediatePriority,fo=a.unstable_UserBlockingPriority,ss=a.unstable_NormalPriority,Th=a.unstable_LowPriority,Ql=a.unstable_IdlePriority,Kl=a.log,Yl=a.unstable_setDisableYieldValue,Un=null,Pe=null;function En(e){if(typeof Kl=="function"&&Yl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:$l,Xl=Math.log,Zr=Math.LN2;function $l(e){return e>>>=0,e===0?32:31-(Xl(e)/Zr|0)|0}var Jn=256,rr=262144,_e=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(p&=E,p!==0?h=Wn(p):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):p!==0?h=Wn(p):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-he(s),K=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function go(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function kn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Pn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Pn,xe="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Jr="__reactEvents$"+Pn,bh="__reactListeners$"+Pn,Wl="__reactHandles$"+Pn,tu="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Wr(e){delete e[ve],delete e[xe],delete e[Jr],delete e[bh],delete e[Wl]}function si(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[ve])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[ve]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ii]=!0}var po=new Set,yo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function eu(e){return ye.call(Eo,e)?!0:ye.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function ta(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,p,Ue(n)):s!=null?Ao(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function nu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ht(e)}function Ao(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ne(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ht(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var wo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ui=null;function hr(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(r(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ur(o)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var sa=!1;function cs(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(us!==null||ui!==null)&&(Ju(),us&&(n=us,e=ui,ui=us=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{fr=!1}var ci=null,Ro=null,dr=null;function Io(){if(dr)return dr;var e,n=Ro,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Bn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Bn,this.isPropagationStopped=Bn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Di),hs=A({},Di,{view:0,detail:0}),Co=ze(hs),fs,ra,fi,aa=A({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(fs=e.screenX-fi.screenX,ra=e.screenY-fi.screenY):ra=fs=0,fi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),No=ze(aa),gr=A({},aa,{dataTransfer:0}),au=ze(gr),ou=A({},hs,{relatedTarget:0}),pr=ze(ou),Do=A({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=ze(Do),oa=A({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=ze(oa),cu=A({},Di,{data:0}),di=ze(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function ds(){return mu}var We=A({},hs,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=ze(We),pu=A({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(pu),u=A({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=ze(u),v=A({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),k=A({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(k),J=A({},Di,{newState:0,oldState:0}),Tt=ze(J),fe=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var bn=Sn&&"TextEvent"in window&&!re,mi=Sn&&(!zt||re&&8<re&&11>=re),qn=" ",Hn=!1;function yr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function H0(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function G0(e,n){if(ua)return e==="compositionend"||!zt&&yr(e,n)?(e=Io(),dr=Ro=ci=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!F0[e.type]:n==="textarea"}function cg(e,n,s,o){us?ui?ui.push(o):ui=[o]:us=o,n=rc(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Oo=null,Vo=null;function Q0(e){Qy(e,0)}function yu(e){var n=hn(e);if(ur(n))return e}function hg(e,n){if(e==="change")return n}var fg=!1;if(Sn){var wh;if(Sn){var Rh="oninput"in document;if(!Rh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Rh=typeof dg.oninput=="function"}wh=Rh}else wh=!1;fg=wh&&(!document.documentMode||9<document.documentMode)}function mg(){Oo&&(Oo.detachEvent("onpropertychange",gg),Vo=Oo=null)}function gg(e){if(e.propertyName==="value"&&yu(Vo)){var n=[];cg(n,Vo,e,An(e)),cs(Q0,n)}}function K0(e,n,s){e==="focusin"?(mg(),Oo=n,Vo=s,Oo.attachEvent("onpropertychange",gg)):e==="focusout"&&mg()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Vo)}function X0(e,n){if(e==="click")return yu(n)}function $0(e,n){if(e==="input"||e==="change")return yu(n)}function Z0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:Z0;function Mo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,n){var s=pg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=pg(s)}}function _g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var J0=Sn&&"documentMode"in document&&11>=document.documentMode,ca=null,Ch=null,xo=null,Nh=!1;function Eg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nh||ca==null||ca!==li(o)||(o=ca,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Mo(xo,o)||(xo=o,o=rc(Ch,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ca)))}function _r(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Dh={},Tg={};Sn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function vr(e){if(Dh[e])return Dh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tg)return Dh[e]=n[s];return e}var Ag=vr("animationend"),Sg=vr("animationiteration"),bg=vr("animationstart"),W0=vr("transitionrun"),tA=vr("transitionstart"),eA=vr("transitioncancel"),wg=vr("transitionend"),Rg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Gn(e,n){Rg.set(e,n),ai(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],fa=0,Vh=0;function vu(){for(var e=fa,n=Vh=fa=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Ig(s,h,f)}}function Eu(e,n,s,o){wn[fa++]=e,wn[fa++]=n,wn[fa++]=s,wn[fa++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,s,o){return Eu(e,n,s,o),Tu(e)}function Er(e,n){return Eu(e,null,null,n),Tu(e)}function Ig(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<nl)throw nl=0,Hf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function nA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new nA(e,n,s,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")xh(e)&&(p=1);else if(typeof e=="string")p=oS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Tr(s.children,h,f,n);case W:p=8,h|=24;break;case ft:return e=mn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Wt:return e=mn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Ut:return e=mn(19,s,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case Et:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=mn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Uh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function Ng(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=Dg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:co(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var ma=[],ga=0,Su=null,Uo=0,In=[],Cn=0,ms=null,gi=1,pi="";function Mi(e,n){ma[ga++]=Uo,ma[ga++]=Su,Su=e,Uo=n}function Og(e,n,s){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=ms,ms=e;var o=gi;e=pi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-he(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function kh(e){e.return!==null&&(Mi(e,1),Og(e,1,0))}function Ph(e){for(;e===Su;)Su=ma[--ga],ma[ga]=null,Uo=ma[--ga],ma[ga]=null;for(;e===ms;)ms=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null,gi=In[--Cn],In[Cn]=null}function Vg(e,n){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=ms,gi=n.id,pi=n.overflow,ms=e}var je=null,te=null,Vt=!1,gs=null,Nn=!1,zh=Error(r(519));function ps(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Rn(n,e)),zh}function Mg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[xe]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)Rt(sl[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ps(e,!0)}function xg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function pa(e){if(e!==je)return!1;if(!Vt)return xg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||sd(e.type,e.memoizedProps)),s=!s),s&&te&&ps(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=r_(e)}else n===27?(n=te,Ds(e.type)?(e=ud,ud=null,te=e):te=n):te=je?On(e.stateNode.nextSibling):null;return!0}function Ar(){te=je=null,Vt=!1}function jh(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Lo(e){gs===null?gs=[e]:gs.push(e)}var Bh=V(null),Sr=null,xi=null;function ys(e,n,s){et(Bh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Bh.current,X(Bh)}function qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Hh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),qh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),qh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ya(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Hh(n,e,s,o),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Ug(Sr,e)}function wu(e,n){return Sr===null&&br(e),Ug(e,n)}function Ug(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var iA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},sA=a.unstable_scheduleCallback,rA=a.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new iA,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&sA(rA,function(){e.controller.abort()})}var Po=null,Fh=0,_a=0,va=null;function aA(e,n){if(Po===null){var s=Po=[];Fh=0,_a=Xf(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(Lg,Lg),n}function Lg(){if(--Fh===0&&Po!==null){va!==null&&(va.status="fulfilled");var e=Po;Po=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=F.S;F.S=function(e,n){Ey=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aA(e,n),kg!==null&&kg(e,n)};var wr=V(null);function Qh(){var e=wr.current;return e!==null?e:Zt.pooledCache}function Ru(e,n){n===null?et(wr,wr.current):et(wr,n.pool)}function Pg(){var e=Qh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ea=Error(r(460)),Kh=Error(r(474)),Iu=Error(r(542)),Cu={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e}throw Ir=n,Ea}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,Ea):s}}var Ir=null;function Bg(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function qg(e){if(e===Ea||e===Iu)throw Error(r(483))}var Ta=null,zo=0;function Nu(e){var n=zo;return zo+=1,Ta===null&&(Ta=[]),jg(Ta,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function s(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Vi(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Uh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function R(U,N,P,Q){var lt=P.type;return lt===nt?G(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Rr(lt)===N.type)?(N=h(N,P.props),jo(N,P),N.return=U,N):(N=Au(P.type,P.key,P.props,null,U.mode,Q),jo(N,P),N.return=U,N)}function z(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Lh(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function G(U,N,P,Q,lt){return N===null||N.tag!==7?(N=Tr(P,U.mode,Q,lt),N.return=U,N):(N=h(N,P),N.return=U,N)}function K(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Uh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Au(N.type,N.key,N.props,null,U.mode,P),jo(P,N),P.return=U,P;case Z:return N=Lh(N,U.mode,P),N.return=U,N;case b:return N=Rr(N),K(U,N,P)}if(Ne(N)||L(N))return N=Tr(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return K(U,Nu(N),P);if(N.$$typeof===mt)return K(U,wu(U,N),P);Du(U,N)}return null}function j(U,N,P,Q){var lt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===lt?R(U,N,P,Q):null;case Z:return P.key===lt?z(U,N,P,Q):null;case b:return P=Rr(P),j(U,N,P,Q)}if(Ne(P)||L(P))return lt!==null?null:G(U,N,P,Q,null);if(typeof P.then=="function")return j(U,N,Nu(P),Q);if(P.$$typeof===mt)return j(U,N,wu(U,P),Q);Du(U,P)}return null}function q(U,N,P,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?P:Q.key)||null,R(N,U,Q,lt);case Z:return U=U.get(Q.key===null?P:Q.key)||null,z(N,U,Q,lt);case b:return Q=Rr(Q),q(U,N,P,Q,lt)}if(Ne(Q)||L(Q))return U=U.get(P)||null,G(N,U,Q,lt,null);if(typeof Q.then=="function")return q(U,N,P,Nu(Q),lt);if(Q.$$typeof===mt)return q(U,N,P,wu(N,Q),lt);Du(N,Q)}return null}function at(U,N,P,Q){for(var lt=null,kt=null,ot=N,bt=N=0,Ct=null;ot!==null&&bt<P.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Pt=j(U,ot,P[bt],Q);if(Pt===null){ot===null&&(ot=Ct);break}e&&ot&&Pt.alternate===null&&n(U,ot),N=f(Pt,N,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,ot=Ct}if(bt===P.length)return s(U,ot),Vt&&Mi(U,bt),lt;if(ot===null){for(;bt<P.length;bt++)ot=K(U,P[bt],Q),ot!==null&&(N=f(ot,N,bt),kt===null?lt=ot:kt.sibling=ot,kt=ot);return Vt&&Mi(U,bt),lt}for(ot=o(ot);bt<P.length;bt++)Ct=q(ot,U,bt,P[bt],Q),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),kt===null?lt=Ct:kt.sibling=Ct,kt=Ct);return e&&ot.forEach(function(Us){return n(U,Us)}),Vt&&Mi(U,bt),lt}function ht(U,N,P,Q){if(P==null)throw Error(r(151));for(var lt=null,kt=null,ot=N,bt=N=0,Ct=null,Pt=P.next();ot!==null&&!Pt.done;bt++,Pt=P.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Us=j(U,ot,Pt.value,Q);if(Us===null){ot===null&&(ot=Ct);break}e&&ot&&Us.alternate===null&&n(U,ot),N=f(Us,N,bt),kt===null?lt=Us:kt.sibling=Us,kt=Us,ot=Ct}if(Pt.done)return s(U,ot),Vt&&Mi(U,bt),lt;if(ot===null){for(;!Pt.done;bt++,Pt=P.next())Pt=K(U,Pt.value,Q),Pt!==null&&(N=f(Pt,N,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Vt&&Mi(U,bt),lt}for(ot=o(ot);!Pt.done;bt++,Pt=P.next())Pt=q(ot,U,bt,Pt.value,Q),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?bt:Pt.key),N=f(Pt,N,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&ot.forEach(function(_S){return n(U,_S)}),Vt&&Mi(U,bt),lt}function $t(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var lt=P.key;N!==null;){if(N.key===lt){if(lt=P.type,lt===nt){if(N.tag===7){s(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Rr(lt)===N.type){s(U,N.sibling),Q=h(N,P.props),jo(Q,P),Q.return=U,U=Q;break t}s(U,N);break}else n(U,N);N=N.sibling}P.type===nt?(Q=Tr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Au(P.type,P.key,P.props,null,U.mode,Q),jo(Q,P),Q.return=U,U=Q)}return p(U);case Z:t:{for(lt=P.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{s(U,N);break}else n(U,N);N=N.sibling}Q=Lh(P,U.mode,Q),Q.return=U,U=Q}return p(U);case b:return P=Rr(P),$t(U,N,P,Q)}if(Ne(P))return at(U,N,P,Q);if(L(P)){if(lt=L(P),typeof lt!="function")throw Error(r(150));return P=lt.call(P),ht(U,N,P,Q)}if(typeof P.then=="function")return $t(U,N,Nu(P),Q);if(P.$$typeof===mt)return $t(U,N,wu(U,P),Q);Du(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(s(U,N),Q=Uh(P,U.mode,Q),Q.return=U,U=Q),p(U)):s(U,N)}return function(U,N,P,Q){try{zo=0;var lt=$t(U,N,P,Q);return Ta=null,lt}catch(ot){if(ot===Ea||ot===Iu)throw ot;var kt=mn(29,ot,null,U.mode);return kt.lanes=Q,kt.return=U,kt}finally{}}}var Cr=Hg(!0),Gg=Hg(!1),_s=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Tu(e),Ig(e,null,s),n}return Eu(e,o,n,s),Tu(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function $h(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Zh=!1;function qo(){if(Zh){var e=va;if(e!==null)throw e}}function Ho(e,n,s,o){Zh=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(o&j)===j){j!==0&&j===_a&&(Zh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ht=E;j=n;var $t=s;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){K=at.call($t,K,j);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,j=typeof at=="function"?at.call($t,K,j):at,j==null)break t;K=A({},K,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=p,e.lanes=p,e.memoizedState=K}}function Fg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fg(s[e],n)}var Aa=V(null),Ou=V(0);function Kg(e,n){e=Gi,et(Ou,e),et(Aa,n),Gi=e|n.baseLanes}function Jh(){et(Ou,Gi),et(Aa,Aa.current)}function Wh(){Gi=Ou.current,X(Aa),X(Ou)}var gn=V(null),Dn=null;function Ts(e){var n=e.alternate;et(de,de.current&1),et(gn,e),Dn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Dn=e)}function tf(e){et(de,de.current),et(gn,e),Dn===null&&(Dn=e)}function Yg(e){e.tag===22?(et(de,de.current),et(gn,e),Dn===null&&(Dn=e)):As()}function As(){et(de,de.current),et(gn,gn.current)}function pn(e){X(gn),Dn===e&&(Dn=null),X(de)}var de=V(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||od(s)||ld(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Yt=null,Se=null,Mu=!1,Sa=!1,Nr=!1,xu=0,Go=0,ba=null,lA=0;function le(){throw Error(r(321))}function ef(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function nf(e,n,s,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Op:_f,Nr=!1,f=s(o,h),Nr=!1,Sa&&(f=$g(n,s,o,h)),Xg(e),f}function Xg(e){F.H=Ko;var n=Yt!==null&&Yt.next!==null;if(Li=0,Se=Yt=At=null,Mu=!1,Go=0,ba=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&bu(e)&&(be=!0))}function $g(e,n,s,o){At=e;var h=0;do{if(Sa&&(ba=null),Go=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,Se=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Vp,f=n(s,o)}while(Sa);return f}function uA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function sf(){var e=xu!==0;return xu=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function af(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Li=0,Se=Yt=At=null,Sa=!1,Go=xu=0,ba=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,ba===null&&(ba=[]),e=jg(ba,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Op:_f),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===mt)return Be(e)}throw Error(r(438,String(e)))}function of(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=me();return lf(n,Yt,e)}function lf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(It&K)===K:(Li&K)===K){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===_a&&(G=!0);else if((Li&j)===j){z=z.next,j===_a&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,At.lanes|=j,ws|=j;K=z.action,Nr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,At.lanes|=K,ws|=K;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!dn(f,e.memoizedState)&&(be=!0,G&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(e,n,s){var o=At,h=me(),f=Vt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!dn((Yt||h).memoizedState,s);if(p&&(h.memoizedState=s,be=!0),h=h.queue,ff(tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Wg.bind(null,o,h,s,n),null),Zt===null)throw Error(r(349));f||(Li&127)!==0||Jg(o,n,s)}return s}function Jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Uu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wg(e,n,s,o){n.value=s,n.getSnapshot=o,ep(n)&&np(e)}function tp(e,n,s){return s(function(){ep(n)&&np(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function np(e){var n=Er(e,2);n!==null&&un(n,e,2)}function cf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Nr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function ip(e,n,s,o){return e.baseState=s,lf(e,Yt,typeof o=="function"?o:ki)}function cA(e,n,s,o,h){if(ju(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,o),R=F.S;R!==null&&R(p,E),rp(e,n,E)}catch(z){hf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,o),rp(e,n,f)}catch(z){hf(e,n,z)}}function rp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ap(e,n,o)},function(o){return hf(e,n,o)}):ap(e,n,s)}function ap(e,n,s){n.status="fulfilled",n.value=s,op(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sp(e,s)))}function hf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==o)}e.action=null}function op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lp(e,n){return n}function up(e,n){if(Vt){var s=Zt.formState;if(s!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=On(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},s.queue=o,s=Cp.bind(null,At,o),o.dispatch=s,o=cf(!1),f=yf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=cA.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function cp(e){var n=me();return hp(n,Yt,e)}function hp(e,n,s){if(n=lf(e,n,lp)[0],e=ku(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(p){throw p===Ea?Iu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},hA.bind(null,h,s),null)),[o,f,e]}function hA(e,n){e.action=n}function fp(e){var n=me(),s=Yt;if(s!==null)return hp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function wa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Uu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function dp(){return me().memoizedState}function Pu(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function zu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&ef(o,Yt.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(At.flags|=e,h.memoizedState=wa(1|n,f,s,o))}function mp(e,n){Pu(8390656,8,e,n)}function ff(e,n){zu(2048,8,e,n)}function fA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Uu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gp(e){var n=me().memoizedState;return fA({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return zu(4,2,e,n)}function yp(e,n){return zu(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,_p.bind(null,n,e),s)}function df(){}function Ep(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Tp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),Nr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function mf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),At.lanes|=e,ws|=e,s)}function Ap(e,n,s,o){return dn(s,n)?s:Aa.current!==null?(e=mf(e,s,o),dn(e,n)||(be=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=s):(e=Ay(),At.lanes|=e,ws|=e,n)}function Sp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,yf(e,!1,n,s);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=oA(R,o);Qo(e,n,G,vn(e))}else Qo(e,n,o,vn(e))}catch(K){Qo(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function dA(){}function gf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=bp(e).queue;Sp(e,h,n,ct,s===null?dA:function(){return wp(e),s(o)})}function bp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wp(e){var n=bp(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},vn())}function pf(){return Be(ul)}function Rp(){return me().memoizedState}function Ip(){return me().memoizedState}function mA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=vs(s);var o=Es(n,e,s);o!==null&&(un(o,n,s),Bo(o,n,s)),n={cache:Gh()},e.payload=n;return}n=n.return}}function gA(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Np(n,s):(s=Mh(e,n,s,o),s!==null&&(un(s,e,o),Dp(s,n,o)))}function Cp(e,n,s){var o=vn();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return Eu(e,n,h,0),Zt===null&&vu(),!1}catch{}finally{}if(s=Mh(e,n,h,o),s!==null)return un(s,e,o),Dp(s,n,o),!0}return!1}function yf(e,n,s,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(r(479))}else n=Mh(e,s,o,2),n!==null&&un(n,e,2)}function ju(e){var n=e.alternate;return e===At||n!==null&&n===At}function Np(e,n){Sa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:Be,use:Lu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ko.useEffectEvent=le;var Op={readContext:Be,use:Lu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:mp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,_p.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Nr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Nr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,s=Cp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:df,useDeferredValue:function(e,n){var s=tn();return mf(s,e,n)},useTransition:function(){var e=cf(!1);return e=Sp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(Vt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Zt===null)throw Error(r(349));(It&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mp(tp.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Wg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Vt){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=lA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:up,useActionState:up,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=yf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return tn().memoizedState=mA.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},_f={readContext:Be,use:Lu,useCallback:Ep,useContext:Be,useEffect:ff,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:ku,useRef:dp,useState:function(){return ku(ki)},useDebugValue:df,useDeferredValue:function(e,n){var s=me();return Ap(s,Yt.memoizedState,e,n)},useTransition:function(){var e=ku(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:pf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var s=me();return ip(s,Yt,e,n)},useMemoCache:of,useCacheRefresh:Ip};_f.useEffectEvent=gp;var Vp={readContext:Be,use:Lu,useCallback:Ep,useContext:Be,useEffect:ff,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:uf,useRef:dp,useState:function(){return uf(ki)},useDebugValue:df,useDeferredValue:function(e,n){var s=me();return Yt===null?mf(s,e,n):Ap(s,Yt.memoizedState,e,n)},useTransition:function(){var e=uf(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:pf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=me();return Yt!==null?ip(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:of,useCacheRefresh:Ip};Vp.useEffectEvent=gp;function vf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ef={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=vs(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(un(n,e,s),Bo(n,e,s))}};function Mp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function xp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Up(e){_u(e)}function Lp(e){console.error(e)}function kp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function zp(e){return e=vs(e),e.tag=3,e}function jp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pp(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function pA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Wu():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Cu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Qf(e,o,h)),!1;case 22:return s.flags|=65536,o===Cu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Qf(e,o,h)),!1}throw Error(r(435,s.tag))}return Qf(e,o,h),Wu(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(r(422),{cause:o}),Lo(Rn(e,s)))):(o!==zh&&(n=Error(r(423),{cause:o}),Lo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=Tf(e.stateNode,o,h),$h(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),el===null?el=[f]:el.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Tf(s.stateNode,o,e),$h(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),jp(h,e,s,o),$h(s,h),!1}s=s.return}while(s!==null);return!1}var Af=Error(r(461)),be=!1;function qe(e,n,s,o){n.child=e===null?Gg(n,null,s,o):Cr(n,e.child,s,o)}function Bp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=nf(e,n,s,p,f,h),E=sf(),e!==null&&!be?(rf(e,n,h),Pi(e,n,h)):(Vt&&E&&kh(n),n.flags|=1,qe(e,n,o,h),n.child)}function qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,o,h)):(e=Au(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(p,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Sf(e,n,s,o,h)}function Gp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):Jh(),Yg(n);else return o=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ru(n,f.cachePool),Kg(n,f),As(),n.memoizedState=null):(e!==null&&Ru(n,null),Jh(),As());return qe(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,s,o,h){var f=Qh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),Jh(),Yg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qp(e,n,s){return Cr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function yA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=qu(n,o),n.lanes=536870912,Yo(null,e);if(tf(n),(e=te)?(e=s_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ps(n);return n.lanes=536870912,null}return qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=Qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||ya(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=Zt,o!==null&&(p=go(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Er(e,p),un(o,e,p),Af;Wu(),n=Qp(e,n,s)}else e=f.treeContext,te=On(p.nextSibling),je=n,Vt=!0,gs=null,Nn=!1,e!==null&&Vg(n,e),n=qu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,o,h){return br(n),s=nf(e,n,s,o,void 0,h),o=sf(),e!==null&&!be?(rf(e,n,h),Pi(e,n,h)):(Vt&&o&&kh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Kp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=$g(n,o,s,h),Xg(e),o=sf(),e!==null&&!be?(rf(e,n,f),Pi(e,n,f)):(Vt&&o&&kh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Yp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=da,p=s.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Be(p):da,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(vf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ef.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Dr(s,E);f.props=R;var z=f.context,G=s.contextType;p=da,typeof G=="object"&&G!==null&&(p=Be(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&xp(n,f,o,p),_s=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||_s?(typeof K=="function"&&(vf(n,s,K,o),z=n.memoizedState),(R=_s||Mp(n,s,R,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),p=n.memoizedProps,G=Dr(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,R=da,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==R)&&xp(n,f,o,R),_s=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var q=n.memoizedState;p!==K||j!==q||_s||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(vf(n,s,E,o),q=n.memoizedState),(G=_s||Mp(n,s,G,o,j,q,R)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Hu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,h),n.child=Cr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function Xp(e,n,s,o){return Ar(),n.flags|=256,qe(e,n,s,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Pg()}}function Rf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function $p(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ts(n):As(),(e=te)?(e=s_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ps(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Gu({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=wf(s),o.childLanes=Rf(e,p,s),n.memoizedState=bf,Yo(null,o)):(Ts(n),If(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=wf(s),o.childLanes=Rf(e,p,s),n.memoizedState=bf,n=Yo(null,o));else if(Ts(n),ld(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,Lo({value:o,source:null,stack:null}),n=Cf(e,n,s)}else if(be||ya(e,n,s,!1),p=(s&e.childLanes)!==0,be||p){if(p=Zt,p!==null&&(o=go(p,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Er(e,o),un(p,e,o),Af;od(E)||Wu(),n=Cf(e,n,s)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=On(E.nextSibling),je=n,Vt=!0,gs=null,Nn=!1,e!==null&&Vg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Vi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=wf(s):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Pg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Rf(e,p,s),n.memoizedState=bf,Yo(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function If(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Cr(n,e.child,null,s),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,s)}function Nf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(de,p),qe(e,n,o,s),o=Vt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,s,n);else if(e.tag===19)Zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Nf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Nf(n,!0,s,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function _A(e,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ys(n,Ae,e.memoizedState.cache),Ar();break;case 27:case 5:nr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(e,n,s):(Ts(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Gp(e,n,s,n.pendingProps);case 24:ys(n,Ae,e.memoizedState.cache)}return Pi(e,n,s)}function Wp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return be=!1,_A(e,n,s);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&Og(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")xh(e)?(o=Dr(e,o),n.tag=1,n=Yp(null,n,e,o,s)):(n.tag=0,n=Sf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Bp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=qp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Dr(o,n.pendingProps),Yp(e,n,o,h,s);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),Ho(n,o,null,s);var p=n.memoizedState;if(o=p.cache,ys(n,Ae,o),o!==f.cache&&Hh(n,[Ae],s,!0),qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(e,n,o,s);break t}else if(o!==h){h=Rn(Error(r(424)),n),Lo(h),n=Xp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=On(e.firstChild),je=n,Vt=!0,gs=null,Nn=!0,s=Gg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ar(),o===h){n=Pi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=ac(St.current).createElement(s),o[ve]=n,o[xe]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Vt&&(o=n.stateNode=o_(n.type,n.pendingProps,St.current),je=n,Nn=!0,h=te,Ds(n.type)?(ud=h,te=On(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=YA(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,je=n,te=On(o.firstChild),Nn=!1,h=!0):h=!1),h||ps(n)),nr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,sd(h,f)?o=null:p!==null&&sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,uA,null,null,s),ul._currentValue=h),Hu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=te)&&(s=XA(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||ps(n)),null;case 13:return $p(e,n,s);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return qp(e,n,n.type,n.pendingProps,s);case 15:return Hp(e,n,n.type,n.pendingProps,s);case 19:return Jp(e,n,s);case 31:return yA(e,n,s);case 22:return Gp(e,n,s,n.pendingProps);case 24:return br(n),o=Be(Ae),e===null?(h=Qh(),h===null&&(h=Zt,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Yh(n),ys(n,Ae,h)):((e.lanes&s)!==0&&(Xh(e,n),Ho(n,null,null,s),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Ae,o)):(o=f.cache,ys(n,Ae,o),o!==h.cache&&Hh(n,[Ae],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Of(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Ir=Cu,Kh}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Ry())e.flags|=8192;else throw Ir=Cu,Kh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,Na|=n)}function Xo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function vA(e,n,s){var o=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ae),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),ty(n,f)):(ee(n),Of(n,h,null,o,s))):f?f!==e.memoizedState?(zi(n),ee(n),ty(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Of(n,h,e,o,s)),null;case 27:if(Yr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=rt.current,pa(n)?Mg(n):(e=o_(h,o,s),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=rt.current,pa(n))Mg(n);else{var p=ac(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||ps(n,!0)}else e=ac(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&Wf(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(X(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cg(s,e),s=s.sibling;return et(de,de.current&1|2),Vt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>$u&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*Je()-o.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=de.current,et(de,h?s&1|2:s&1),Vt&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ae),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function EA(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ae),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(de),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return pn(n),Wh(),e!==null&&X(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function ey(e,n){switch(Ph(n),n.tag){case 3:Ui(Ae),se();break;case 26:case 27:case 5:Yr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(de);break;case 10:Ui(n.type);break;case 22:case 23:pn(n),Wh(),e!==null&&X(wr);break;case 24:Ui(Ae)}}function $o(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Ft(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Ft(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Ft(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qg(n,s)}catch(o){Ft(e,e.return,o)}}}function iy(e,n,s){s.props=Dr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Ft(e,n,o)}}function Zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Ft(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ft(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ft(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ft(e,e.return,h)}}function Vf(e,n,s){try{var o=e.stateNode;qA(o,e.type,s,n),o[xe]=n}catch(h){Ft(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(xf(e,n,s),e=e.sibling;e!==null;)xf(e,n,s),e=e.sibling}function Qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ve]=e,n[xe]=s}catch(f){Ft(e,e.return,f)}}var ji=!1,we=!1,Uf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function TA(e,n){if(e=e.containerInfo,nd=dc,e=vg(e),Ih(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===o&&(R=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(id={focusedElem:e,selectionRange:s},dc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Dr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Ft(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function ly(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&$o(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Ft(s,s.return,p)}else{var h=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ft(s,s.return,p)}}o&64&&ny(s),o&512&&Zo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qg(e,n)}catch(p){Ft(s,s.return,p)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:qi(e,s),n===null&&o&4&&sy(s),o&512&&Zo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&hy(e,s);break;case 13:qi(e,s),o&4&&fy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=DA.bind(null,s),$A(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||we,h=ji;var f=we;ji=o,(we=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,we=f}break;case 30:break;default:qi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:we||yi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||yi(s,n);var o=ae,h=rn;Ds(s.type)&&(ae=s.stateNode,rn=!1),Bi(e,n,s),al(s.stateNode),ae=o,rn=h;break;case 5:we||yi(s,n);case 6:if(o=ae,h=rn,ae=null,Bi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Ft(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Ft(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):n_(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Bi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),we||Ss(4,s,n),Bi(e,n,s);break;case 1:we||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Bi(e,n,s),we=o;break;default:Bi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Ft(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Ft(n,n.return,s)}}function AA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(r(435,e.tag))}}function Ku(e,n){var s=AA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=OA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));cy(f,p,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Fn=null;function dy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),$o(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||s===null||yi(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(an(n,e),on(e),o&512&&(we||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var p=d_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||s===null||yi(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Ft(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Ft(e,e.return,at)}}break;case 3:if(uc=null,h=Fn,Fn=oc(n.containerInfo),an(n,e),Fn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(at){Ft(e,e.return,at)}Uf&&(Uf=!1,my(e));break;case 4:o=Fn,Fn=oc(e.stateNode.containerInfo),an(n,e),on(e),Fn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=ji,G=we;if(ji=z||h,we=G||R,an(n,e),we=G,ji=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ji||we||Or(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Ft(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Ft(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?i_(q,!0):i_(R.stateNode,!1)}catch(at){Ft(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ku(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Mf(e);Qu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Mf(e);Qu(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Mf(e);xf(e,z,R);break;default:throw Error(r(161))}}catch(G){Ft(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Or(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Or(n);break;case 27:al(n.stateNode);case 26:case 5:yi(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),$o(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ft(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fg(R[h],E)}catch(z){Ft(o,o.return,z)}}s&&p&64&&ny(f),Zo(f,f.return);break;case 27:ay(f);case 26:case 5:Hi(h,f,s),s&&o===null&&p&4&&sy(f),Zo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&p&4&&hy(h,f);break;case 13:Hi(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Zo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,s,o),n=n.sibling}function gy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&$o(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Jo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ra(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lf(p,n);break;case 24:Qn(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ra(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ra(f,p,E,R,h),$o(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ra(f,p,E,R,h):Jo(f,p):(G._visibility|=2,Ra(f,p,E,R,h)),h&&z&2048&&Lf(p.alternate,p);break;case 24:Ra(f,p,E,R,h),h&&z&2048&&kf(p.alternate,p);break;default:Ra(f,p,E,R,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(s,o),h&2048&&Lf(o.alternate,o);break;case 24:Jo(s,o),h&2048&&kf(o.alternate,o);break;default:Jo(s,o)}n=n.sibling}}var Wo=8192;function Ia(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)py(e,n,s),e=e.sibling}function py(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&Wo&&e.memoizedState!==null&&lS(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=Fn;Fn=oc(e.stateNode.containerInfo),Ia(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ia(e,n,s),Wo=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):tl(e);break;default:tl(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function vy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(uy(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var SA={getCacheForType:function(e){var n=Be(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ae).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,It=0,Gt=0,yn=null,bs=!1,Ca=!1,Pf=!1,Gi=0,ue=0,ws=0,Vr=0,zf=0,_n=0,Na=0,el=null,ln=null,jf=!1,Xu=0,Ey=0,$u=1/0,Zu=null,Rs=null,Ve=0,Is=null,Da=null,Fi=0,Bf=0,qf=null,Ty=null,nl=0,Hf=null;function vn(){return(jt&2)!==0&&It!==0?It&-It:F.T!==null?Xf():Jl()}function Ay(){if(_n===0)if((It&536870912)===0||Vt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Cs(e,It,_n,!1)),ar(e,s),((jt&2)===0||e!==Zt)&&(e===Zt&&((jt&2)===0&&(Vr|=s),ue===4&&Cs(e,It,_n,!1)),_i(e))}function Sy(e,n,s){if((jt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?IA(e,n):Ff(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!wA(s)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,p).flags|=256),p=Ff(E,p,!1),p!==2){if(Pf&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,_n,!bs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Xu+300-Je(),10<h)){if(Cs(o,n,_n,!bs),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=t_(by.bind(null,o,s,ln,Zu,jf,n,_n,Vr,Na,bs,f,"Throttled",-0,0),h);break t}by(o,s,ln,Zu,jf,n,_n,Vr,Na,bs,f,null,-0,0)}}break}while(!0);_i(e)}function by(e,n,s,o,h,f,p,E,R,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},py(n,f,K);var at=(f&62914560)===f?Xu-Je():(f&4194048)===f?Ey-Je():0;if(at=uS(K,at),at!==null){Fi=f,e.cancelPendingCommit=at(Vy.bind(null,e,n,f,s,o,h,p,E,R,G,K,null,j,q)),Cs(e,f,p,!z);return}}Vy(e,n,f,s,o,h,p,E,R)}function wA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~zf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&or(e,s,n)}function Ju(){return(jt&6)===0?(il(0),!1):!0}function Gf(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,xi=Sr=null,af(e),Ta=null,zo=0,e=wt;for(;e!==null;)ey(e.alternate,e),e=e.return;wt=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,FA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Gf(),Zt=e,wt=s=Vi(e.current,null),It=n,Gt=0,yn=null,bs=!1,Ca=Ln(e,n),Pf=!1,Na=_n=zf=Vr=ws=ue=0,ln=el=null,jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,vu(),s}function wy(e,n){At=null,F.H=Ko,n===Ea||n===Iu?(n=Bg(),Gt=3):n===Kh?(n=Bg(),Gt=4):Gt=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ue=1,Bu(e,Rn(n,e.current)))}function Ry(){var e=gn.current;return e===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?e===Dn:!1}function Iy(){var e=F.H;return F.H=Ko,e===null?Ko:e}function Cy(){var e=F.A;return F.A=SA,e}function Wu(){ue=4,bs||(It&4194048)!==It&&gn.current!==null||(Ca=!0),(ws&134217727)===0&&(Vr&134217727)===0||Zt===null||Cs(Zt,It,_n,!1)}function Ff(e,n,s){var o=jt;jt|=2;var h=Iy(),f=Cy();(Zt!==e||It!==n)&&(Zu=null,Oa(e,n)),n=!1;var p=ue;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=yn;switch(Gt){case 8:Gf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Gt;if(Gt=0,yn=null,Va(e,E,R,z),s&&Ca){p=0;break t}break;default:z=Gt,Gt=0,yn=null,Va(e,E,R,z)}}RA(),p=ue;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,xi=Sr=null,jt=o,F.H=h,F.A=f,wt===null&&(Zt=null,It=0,vu()),p}function RA(){for(;wt!==null;)Ny(wt)}function IA(e,n){var s=jt;jt|=2;var o=Iy(),h=Cy();Zt!==e||It!==n?(Zu=null,$u=Je()+500,Oa(e,n)):Ca=Ln(e,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=yn;e:switch(Gt){case 1:Gt=0,yn=null,Va(e,n,f,1);break;case 2:case 9:if(zg(f)){Gt=0,yn=null,Dy(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),_i(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:zg(f)?(Gt=0,yn=null,Dy(n)):(Gt=0,yn=null,Va(e,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(p?g_(p):E.stateNode.complete){Gt=0,yn=null;var R=E.sibling;if(R!==null)wt=R;else{var z=E.return;z!==null?(wt=z,tc(z)):wt=null}break e}}Gt=0,yn=null,Va(e,n,f,5);break;case 6:Gt=0,yn=null,Va(e,n,f,6);break;case 8:Gf(),ue=6;break t;default:throw Error(r(462))}}CA();break}catch(G){wy(e,G)}while(!0);return xi=Sr=null,F.H=o,F.A=h,jt=s,wt!==null?0:(Zt=null,It=0,vu(),ue)}function CA(){for(;wt!==null&&!Eh();)Ny(wt)}function Ny(e){var n=Wp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?tc(e):wt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:af(n);default:ey(s,n),n=wt=Cg(n,Gi),n=Wp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?tc(e):wt=n}function Va(e,n,s,o){xi=Sr=null,af(n),Ta=null,zo=0;var h=n.return;try{if(pA(e,h,n,s,It)){ue=1,Bu(e,Rn(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Bu(e,Rn(s,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ca||(It&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,bs);return}e=n.return;var s=vA(n.alternate,n,Gi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Oy(e,n){do{var s=EA(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ue=6,wt=null}function Vy(e,n,s,o,h,f,p,E,R){e.cancelPendingCommit=null;do ec();while(Ve!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,s,f,p,E,R),e===Zt&&(wt=Zt=null,It=0),Da=n,Is=e,Fi=s,Bf=f,qf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VA(ss,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,p=jt,jt|=4;try{TA(e,n,s)}finally{jt=p,tt.p=h,F.T=o}}Ve=1,My(),xy(),Uy()}}function My(){if(Ve===1){Ve=0;var e=Is,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{dy(n,e);var f=id,p=vg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_g(E.ownerDocument.documentElement,E)){if(R!==null&&Ih(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,ht=Math.min(R.start,at),$t=R.end===void 0?ht:Math.min(R.end,at);!q.extend&&ht>$t&&(p=$t,$t=ht,ht=p);var U=yg(E,ht),N=yg(E,$t);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ht>$t?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}dc=!!nd,id=nd=null}finally{jt=h,tt.p=o,F.T=s}}e.current=n,Ve=2}}function xy(){if(Ve===2){Ve=0;var e=Is,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{ly(e,n.alternate,n)}finally{jt=h,tt.p=o,F.T=s}}Ve=3}}function Uy(){if(Ve===4||Ve===3){Ve=0,Fl();var e=Is,n=Da,s=Fi,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Da=Is=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ci(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Fi&3)!==0&&ec(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Hf?nl++:(nl=0,Hf=e):nl=0,il(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function ec(){return My(),xy(),Uy(),ky()}function ky(){if(Ve!==5)return!1;var e=Is,n=Bf;Bf=0;var s=Ci(Fi),o=F.T,h=tt.p;try{tt.p=32>s?32:s,F.T=null,s=qf,qf=null;var f=Is,p=Fi;if(Ve=0,Da=Is=null,Fi=0,(jt&6)!==0)throw Error(r(331));var E=jt;if(jt|=4,_y(f.current),gy(f,f.current,p,s),jt=E,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,F.T=o,Ly(e,n)}}function Py(e,n,s){n=Rn(s,n),n=Tf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(ar(e,2),_i(e))}function Ft(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Rn(s,e),s=zp(2),o=Es(n,s,2),o!==null&&(jp(s,o,n,e),ar(o,2),_i(o));break}}n=n.return}}function Qf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new bA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Pf=!0,h.add(s),e=NA.bind(null,e,n,s),n.then(e,e))}function NA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(It&s)===s&&(ue===4||ue===3&&(It&62914560)===It&&300>Je()-Xu?(jt&2)===0&&Oa(e,0):zf|=s,Na===It&&(Na=0)),_i(e)}function zy(e,n){n===0&&(n=Zl()),e=Er(e,n),e!==null&&(ar(e,n),_i(e))}function DA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function OA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),zy(e,s)}function VA(e,n){return Oe(e,n)}var nc=null,Ma=null,Kf=!1,ic=!1,Yf=!1,Ns=0;function _i(e){e!==Ma&&e.next===null&&(Ma===null?nc=Ma=e:Ma=Ma.next=e),ic=!0,Kf||(Kf=!0,xA())}function il(e,n){if(!Yf&&ic){Yf=!0;do for(var s=!1,o=nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=It,f=ti(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);Yf=!1}}function MA(){jy()}function jy(){ic=Kf=!1;var e=0;Ns!==0&&GA()&&(e=Ns);for(var n=Je(),s=null,o=nc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?nc=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=h}Ve!==0&&Ve!==5||il(e),Ns!==0&&(Ns=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Ah(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=It,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),Ci(s)){case 2:case 8:s=fo;break;case 32:s=ss;break;case 268435456:s=Ql;break;default:s=ss}return o=qy.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var o=It;return o=ti(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),By(e,Je()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(ec())return null;Sy(e,n,!0)}function xA(){QA(function(){(jt&6)!==0?Oe(ho,MA):jy()})}function Xf(){if(Ns===0){var e=_a;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ns=e}return Ns}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function UA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var R=p?Fy(h,p):new FormData(h);gf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Fy(h,p):new FormData(h),gf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var $f=0;$f<Oh.length;$f++){var Zf=Oh[$f],LA=Zf.toLowerCase(),kA=Zf[0].toUpperCase()+Zf.slice(1);Gn(LA,"on"+kA)}Gn(Ag,"onAnimationEnd"),Gn(Sg,"onAnimationIteration"),Gn(bg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(W0,"onTransitionRun"),Gn(tA,"onTransitionStart"),Gn(eA,"onTransitionCancel"),Gn(wg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=R}}}}function Rt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Ky(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),Ky(s,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[sc]){e[sc]=!0,po.forEach(function(s){s!=="selectionchange"&&(PA.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,Jf("selectionchange",!1,n))}}function Ky(e,n,s,o){switch(A_(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=md}s=h.bind(null,n,s,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function td(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=si(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,G=An(s),K=[];t:{var j=Rg.get(e);if(j!==void 0){var q=hi,at=e;switch(e){case"keypress":if(mr(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":at="focus",q=pr;break;case"focusout":at="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ag:case Sg:case bg:q=lu;break;case wg:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Tt}var ht=(n&4)!==0,$t=!ht&&(e==="scroll"||e==="scrollend"),U=ht?j!==null?j+"Capture":null:j;ht=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=jn(N,U),Q!=null&&ht.push(rl(N,Q,P))),$t)break;N=N.return}0<ht.length&&(j=new q(j,at,null,s,G),K.push({event:j,listeners:ht}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==wo&&(at=s.relatedTarget||s.fromElement)&&(si(at)||at[ni]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?si(at):null,at!==null&&($t=c(at),ht=at.tag,at!==$t||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(q=null,at=z),q!==at)){if(ht=No,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Oi,Q="onPointerLeave",U="onPointerEnter",N="pointer"),$t=q==null?j:hn(q),P=at==null?j:hn(at),j=new ht(Q,N+"leave",q,s,G),j.target=$t,j.relatedTarget=P,Q=null,si(G)===z&&(ht=new ht(U,N+"enter",at,s,G),ht.target=P,ht.relatedTarget=$t,Q=ht),$t=Q,q&&at)e:{for(ht=zA,U=q,N=at,P=0,Q=U;Q;Q=ht(Q))P++;Q=0;for(var lt=N;lt;lt=ht(lt))Q++;for(;0<P-Q;)U=ht(U),P--;for(;0<Q-P;)N=ht(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){ht=U;break e}U=ht(U),N=ht(N)}ht=null}else ht=null;q!==null&&Yy(K,j,q,ht,!1),at!==null&&$t!==null&&Yy(K,$t,at,ht,!0)}}t:{if(j=z?hn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var kt=hg;else if(ug(j))if(fg)kt=$0;else{kt=Y0;var ot=K0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&na(z.elementType)&&(kt=hg):kt=X0;if(kt&&(kt=kt(e,z))){cg(K,kt,s,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ao(j,"number",j.value)}switch(ot=z?hn(z):window,e){case"focusin":(ug(ot)||ot.contentEditable==="true")&&(ca=ot,Ch=z,xo=null);break;case"focusout":xo=Ch=ca=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Eg(K,s,G);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":Eg(K,s,G)}var bt;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ua?yr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(mi&&s.locale!=="ko"&&(ua||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ua&&(bt=Io()):(ci=G,Ro="value"in ci?ci.value:ci.textContent,ua=!0)),ot=rc(z,Ct),0<ot.length&&(Ct=new di(Ct,e,null,s,G),K.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=la(s),bt!==null&&(Ct.data=bt)))),(bt=bn?H0(e,s):G0(e,s))&&(Ct=rc(z,"onBeforeInput"),0<Ct.length&&(ot=new di("onBeforeInput","beforeinput",null,s,G),K.push({event:ot,listeners:Ct}),ot.data=bt)),UA(K,e,z,s,G)}Qy(K,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&o.unshift(rl(e,h,f)),h=jn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function zA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=jn(s,f),z!=null&&p.unshift(rl(s,z,R))):h||(z=jn(s,f),z!=null&&p.push(rl(s,z,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var jA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(jA,`
`).replace(BA,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,ta(e,s,o))}}function ed(e,n,s,o,h,f){switch(s){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ta(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,p,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=p=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Xt(e,n,o,G,s,null)}}nu(e,f,E,R,z,p,h,!1);return;case"select":Rt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,p,E,s,null)}os(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,s,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Rt(sl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,z,o,s,null)}return;default:if(na(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ed(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function qA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=s[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Xt(e,n,j,q,o,K)}}ea(e,p,E,R,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,s=p,o=q,j!=null?as(e,!!s,j,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}iu(e,j,q);return;case"option":for(var at in s)if(j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Xt(e,n,at,null,o,j)}for(R in o)if(j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)j=s[ht],s.hasOwnProperty(ht)&&j!=null&&!o.hasOwnProperty(ht)&&Xt(e,n,ht,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Xt(e,n,z,j,o,q)}return;default:if(na(n)){for(var $t in s)j=s[$t],s.hasOwnProperty($t)&&j!==void 0&&!o.hasOwnProperty($t)&&ed(e,n,$t,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||ed(e,n,G,j,o,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,j);for(K in o)j=o[K],q=s[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Xt(e,n,K,j,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,K=R.initiatorType;G&&Zy(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function GA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(KA)}:t_;function KA(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function n_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);ka(n)}function i_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ad(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function YA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function XA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $A(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Vn=new Map,l_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:ZA,r:JA,D:WA,C:tS,L:eS,m:nS,X:sS,S:iS,M:rS};function ZA(){var e=Qi.f(),n=Ju();return e||n}function JA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?wp(n):Qi.r(e)}var xa=typeof document>"u"?null:document;function u_(e,n,s){var o=xa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function WA(e){Qi.D(e),u_("dns-prefetch",e,null)}function tS(e,n){Qi.C(e,n),u_("preconnect",e,n)}function eS(e,n,s){Qi.L(e,n,s);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}Vn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function nS(e,n){Qi.m(e,n);var s=xa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Vn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function iS(e,n,s){Qi.S(e,n,s);var o=xa;if(o&&e){var h=ri(o).hoistableStyles,f=Ua(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ol(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&cd(e,s);var R=p=o.createElement("link");Ee(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sS(e,n){Qi.X(e,n);var s=xa;if(s&&e){var o=ri(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0},n),(n=Vn.get(h))&&hd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rS(e,n){Qi.M(e,n);var s=xa;if(s&&e){var o=ri(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&hd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,s,o){var h=(h=St.current)?oc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ol(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||aS(h,e,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ua(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function La(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),lc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ua(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=h_(s),(h=Vn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),n.state.loading|=4,lc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,Ee(h),h):(o=s,(h=Vn.get(f))&&(o=A({},s),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,s.precedence,e));return n.instance}function lc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function d_(e,n,s){if(uc===null){var o=new Map,h=uc=new Map;h.set(s,o)}else h=uc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function oS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=h_(o),(h=Vn.get(h))&&cd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var fd=0;function uS(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*HA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(cS,e),hc=null,cc.call(e))}function cS(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var o=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function hS(e,n,s,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function p_(e,n,s,o,h,f,p,E,R,z,G,K){return e=new hS(e,n,s,p,R,z,G,K,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Yh(f),e}function y_(e){return e?(e=da,e):da}function __(e,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(un(s,e,n),Bo(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function dd(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),dd(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=vn();n=lr(n);var s=Er(e,n);s!==null&&un(s,e,n),dd(e,n)}}var dc=!0;function fS(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,md(e,n,s,o)}finally{tt.p=f,F.T=h}}function dS(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,md(e,n,s,o)}finally{tt.p=f,F.T=h}}function md(e,n,s,o){if(dc){var h=gd(o);if(h===null)td(e,n,o,mc,s),S_(e,o);else if(gS(h,e,n,s,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<mS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}_i(f),(jt&6)===0&&($u=Je()+500,il(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),Ju(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,mc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,s)}}function gd(e){return e=An(e),pd(e)}var mc=null;function pd(e){if(mc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case ho:return 2;case fo:return 8;case ss:case Th:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var yd=!1,Os=null,Vs=null,Ms=null,cl=new Map,hl=new Map,xs=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gS(e,n,s,o,h){switch(n){case"focusin":return Os=fl(Os,e,n,s,o,h),!0;case"dragenter":return Vs=fl(Vs,e,n,s,o,h),!0;case"mouseover":return Ms=fl(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function b_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,kn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=Tn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){gc(e)&&s.delete(n)}function pS(){yd=!1,Os!==null&&gc(Os)&&(Os=null),Vs!==null&&gc(Vs)&&(Vs=null),Ms!==null&&gc(Ms)&&(Ms=null),cl.forEach(w_),hl.forEach(w_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,pS)))}var yc=null;function R_(e){yc!==e&&(yc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(R){return pc(R,e)}Os!==null&&pc(Os,e),Vs!==null&&pc(Vs,e),Ms!==null&&pc(Ms,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<xs.length;s++){var o=xs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xs.length&&(s=xs[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&xs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[xe]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[xe]||null)E=p.formAction;else if(pd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function _d(e){this._internalRoot=e}_c.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();__(s,o,e,n,null,null)},_c.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),Ju(),n[ni]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<xs.length&&n!==0&&n<xs[s].priority;s++);xs.splice(s,0,e),s===0&&b_(e)}};var C_=t.version;if(C_!=="19.2.0")throw Error(r(527,C_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Un=vc.inject(yS),Pe=vc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Up,f=Lp,p=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=p_(e,1,!1,null,null,s,o,null,h,f,p,I_),e[ni]=n.current,Wf(e),new _d(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Up,p=Lp,E=kp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=p_(e,1,!0,n,s??null,o,h,R,f,p,E,I_),n.context=y_(null),s=n.current,o=vn(),o=lr(o),h=vs(o),h.callback=null,Es(s,h,o),s=o,n.current.lanes=s,ar(n,s),_i(n),e[ni]=n.current,Wf(e),new _c(n)},ml.version="19.2.0",ml}var P_;function CS(){if(P_)return Td.exports;P_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=IS(),Td.exports}var NS=CS();const DS=gE(NS),OS=({activeSection:a,scrollToSection:t})=>{const[i,r]=ce.useState(!1),l=[{id:"account",label:"X Account Settings"},{id:"news",label:"News Sources"},{id:"contents",label:"Found Contents"},{id:"ai",label:"AI Settings"},{id:"stats",label:"Statistics"},{id:"logs",label:"System Logs"}],c=d=>{t(d),r(!1)};return M.jsx("header",{className:"header",children:M.jsxs("nav",{className:"nav",children:[M.jsx("div",{className:"logo",children:"🤖 X Bot Manager"}),M.jsx("button",{className:"mobile-menu-btn",onClick:()=>r(!i),children:"☰"}),M.jsx("ul",{className:`nav-links ${i?"mobile-open":""}`,children:l.map(d=>M.jsx("li",{children:M.jsx("button",{className:`nav-link ${a===d.id?"active":""}`,onClick:()=>c(d.id),children:d.label})},d.id))})]})})},VS=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},MS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(D=64)),r.push(i[S],i[A],i[D],i[H])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(pE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):MS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const A=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new xS;const D=c<<2|g>>4;if(r.push(D),_!==64){const H=g<<4&240|_>>2;if(r.push(H),A!==64){const Z=_<<6&192|A;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(a){const t=pE(a);return yE.encodeByteArray(t,!0)},Lc=function(a){return US(a).replace(/\./g,"")},_E=function(a){try{return yE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>LS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof z_>"u")return;const a=z_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},zS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&_E(a[1]);return t&&JSON.parse(t)},nh=()=>{try{return VS()||kS()||PS()||zS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},vE=a=>nh()?.emulatorHosts?.[a],EE=a=>{const t=vE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},TE=()=>nh()?.config,AE=a=>nh()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cm(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const vl={};function qS(){const a={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?a.emulator.push(t):a.prod.push(t);return a}function HS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let j_=!1;function hm(a,t){if(typeof window>"u"||typeof document>"u"||!Hr(window.location.host)||vl[a]===t||vl[a]||j_)return;vl[a]=t;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=qS().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{j_=!0,d()},D}function S(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=HS(r),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const mt=D.element;g(mt),S(W,nt);const Qt=_();y(Et,ft),mt.append(Et,Z,W,Qt),document.body.appendChild(mt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function FS(){const a=nh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function $S(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class ns extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=WS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?tb(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ns(l,g,r)}}function tb(a,t){return a.replace(eb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const eb=/\{\$([^}]+)}/g;function nb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function kr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(B_(c)&&B_(d)){if(!kr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function B_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ib(a,t){const i=new sb(a,t);return i.subscribe.bind(i)}class sb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");rb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(a){return a&&a._delegate?a._delegate:a}class Ys{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new jS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lb(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ob(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ob(a){return a===Mr?void 0:a}function lb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ab(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Nt||(Nt={}));const cb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},hb=Nt.INFO,fb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},db=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=fb[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=hb,this._logHandler=db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const mb=(a,t)=>t.some(i=>a instanceof i);let q_,H_;function gb(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pb(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,kd=new WeakMap,bE=new WeakMap,Rd=new WeakMap,dm=new WeakMap;function yb(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(qs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&SE.set(i,a)}).catch(()=>{}),dm.set(t,a),t}function _b(a){if(kd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});kd.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return kd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||bE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function vb(a){Pd=a(Pd)}function Eb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Id(this),t,...i);return bE.set(r,t.sort?t.sort():[t]),qs(r)}:pb().includes(a)?function(...t){return a.apply(Id(this),t),qs(SE.get(this))}:function(...t){return qs(a.apply(Id(this),t))}}function Tb(a){return typeof a=="function"?Eb(a):(a instanceof IDBTransaction&&_b(a),mb(a,gb())?new Proxy(a,Pd):a)}function qs(a){if(a instanceof IDBRequest)return yb(a);if(Rd.has(a))return Rd.get(a);const t=Tb(a);return t!==a&&(Rd.set(a,t),dm.set(t,a)),t}const Id=a=>dm.get(a);function Ab(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=qs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(qs(d.result),y.oldVersion,y.newVersion,qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Sb=["get","getKey","getAll","getAllKeys","count"],bb=["put","add","delete","clear"],Cd=new Map;function G_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=bb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Sb.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Cd.set(t,c),c}vb(a=>({...a,get:(t,i,r)=>G_(t,i)||a.get(t,i,r),has:(t,i)=>!!G_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Rb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Rb(a){return a.getComponent()?.type==="VERSION"}const zd="@firebase/app",F_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new fm("@firebase/app"),Ib="@firebase/app-compat",Cb="@firebase/analytics-compat",Nb="@firebase/analytics",Db="@firebase/app-check-compat",Ob="@firebase/app-check",Vb="@firebase/auth",Mb="@firebase/auth-compat",xb="@firebase/database",Ub="@firebase/data-connect",Lb="@firebase/database-compat",kb="@firebase/functions",Pb="@firebase/functions-compat",zb="@firebase/installations",jb="@firebase/installations-compat",Bb="@firebase/messaging",qb="@firebase/messaging-compat",Hb="@firebase/performance",Gb="@firebase/performance-compat",Fb="@firebase/remote-config",Qb="@firebase/remote-config-compat",Kb="@firebase/storage",Yb="@firebase/storage-compat",Xb="@firebase/firestore",$b="@firebase/ai",Zb="@firebase/firestore-compat",Jb="firebase",Wb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",t1={[zd]:"fire-core",[Ib]:"fire-core-compat",[Nb]:"fire-analytics",[Cb]:"fire-analytics-compat",[Ob]:"fire-app-check",[Db]:"fire-app-check-compat",[Vb]:"fire-auth",[Mb]:"fire-auth-compat",[xb]:"fire-rtdb",[Ub]:"fire-data-connect",[Lb]:"fire-rtdb-compat",[kb]:"fire-fn",[Pb]:"fire-fn-compat",[zb]:"fire-iid",[jb]:"fire-iid-compat",[Bb]:"fire-fcm",[qb]:"fire-fcm-compat",[Hb]:"fire-perf",[Gb]:"fire-perf-compat",[Fb]:"fire-rc",[Qb]:"fire-rc-compat",[Kb]:"fire-gcs",[Yb]:"fire-gcs-compat",[Xb]:"fire-fst",[Zb]:"fire-fst-compat",[$b]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,e1=new Map,Bd=new Map;function Q_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Pr(a){const t=a.name;if(Bd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,a);for(const i of kc.values())Q_(i,a);for(const i of e1.values())Q_(i,a);return!0}function ih(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Kn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Ul("app","Firebase",n1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=Wb;function wE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:jd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=TE()),!i)throw Hs.create("no-options");const c=kc.get(l);if(c){if(kr(i,c.options)&&kr(r,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new ub(l);for(const y of Bd.values())d.addComponent(y);const g=new i1(i,r,d);return kc.set(l,g),g}function mm(a=jd){const t=kc.get(a);if(!t&&a===jd&&TE())return wE();if(!t)throw Hs.create("no-app",{appName:a});return t}function Ei(a,t,i){let r=t1[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Pr(new Ys(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebase-heartbeat-database",r1=1,wl="firebase-heartbeat-store";let Nd=null;function RE(){return Nd||(Nd=Ab(s1,r1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(wl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Hs.create("idb-open",{originalErrorMessage:a.message})})),Nd}async function a1(a){try{const i=(await RE()).transaction(wl),r=await i.objectStore(wl).get(IE(a));return await i.done,r}catch(t){if(t instanceof ns)$i.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function K_(a,t){try{const r=(await RE()).transaction(wl,"readwrite");await r.objectStore(wl).put(t,IE(a)),await r.done}catch(i){if(i instanceof ns)$i.warn(i.message);else{const r=Hs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(r.message)}}}function IE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1024,l1=30;class u1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new h1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>l1){const l=f1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:r}=c1(this._heartbeatsCache.heartbeats),l=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function c1(a,t=o1){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),X_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class h1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await a1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function X_(a){return Lc(JSON.stringify({version:2,heartbeats:a})).length}function f1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(a){Pr(new Ys("platform-logger",t=>new wb(t),"PRIVATE")),Pr(new Ys("heartbeat",t=>new u1(t),"PRIVATE")),Ei(zd,F_,a),Ei(zd,F_,"esm2020"),Ei("fire-js","")}d1("");var m1="firebase",g1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(m1,g1,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,CE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,O,L){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[O].apply(x,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],w;w=b+(L^I&(O^L))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+x[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+x[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+x[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+x[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+x[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+x[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+x[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+x[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+x[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+x[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+x[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+x[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^L&(I^O))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+x[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+x[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+x[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+x[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+x[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+x[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+x[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+x[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+x[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+x[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+x[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+x[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^L)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+x[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+x[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+x[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+x[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+x[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+x[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+x[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+x[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+x[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+x[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+x[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+x[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~L))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+x[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+x[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+x[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+x[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+x[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+x[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+x[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+x[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+x[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+x[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+x[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,x=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(x[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,x),O=0;break}}else for(;L<b;)if(x[O++]=C[L++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[b++]=this.g[I]>>>x&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let x=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;x&&L==b||(I[O]=L,x=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(_(-C));const b=[];let I=1;for(let x=0;C>=I;x++)b[x]=C/I|0,I*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let x=A;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+O),b);O<8?(O=_(Math.pow(b,O)),x=x.j(O).add(_(w))):(x=x.j(I),x=x.add(_(w)))}return x}var A=y(0),D=y(1),H=y(16777216);a=d.prototype,a.m=function(){if(nt(this))return-W(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+W(this).toString(C);const b=_(Math.pow(C,6));var I=this;let x="";for(;;){const O=Qt(I,b).g;I=ft(I,O.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,Z(I))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function nt(C){return C.h==-1}a.l=function(C){return C=ft(this,C),nt(C)?-1:Z(C)?0:1};function W(C){const b=C.g.length,I=[];for(let x=0;x<b;x++)I[x]=~C.g[x];return new d(I,~C.h).add(D)}a.abs=function(){return nt(this)?W(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let O=0;O<=b;O++){let L=x+(this.i(O)&65535)+(C.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=w>>>16,L&=65535,w&=65535,I[O]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,b){return C.add(W(b))}a.j=function(C){if(Z(this)||Z(C))return A;if(nt(this))return nt(C)?W(this).j(W(C)):W(W(this).j(C));if(nt(C))return W(this.j(W(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<C.g.length;O++){const L=this.i(x)>>>16,w=this.i(x)&65535,ie=C.i(O)>>>16,Ne=C.i(O)&65535;I[2*x+2*O]+=w*Ne,Et(I,2*x+2*O),I[2*x+2*O+1]+=L*Ne,Et(I,2*x+2*O+1),I[2*x+2*O+1]+=w*ie,Et(I,2*x+2*O+1),I[2*x+2*O+2]+=L*ie,Et(I,2*x+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function mt(C,b){this.g=C,this.h=b}function Qt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new mt(A,A);if(nt(C))return b=Qt(W(C),b),new mt(W(b.g),W(b.h));if(nt(b))return b=Qt(C,W(b)),new mt(W(b.g),b.h);if(C.g.length>30){if(nt(C)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=b;x.l(C)<=0;)I=Wt(I),x=Wt(x);var O=Ut(I,1),L=Ut(x,1);for(x=Ut(x,2),I=Ut(I,2);!Z(x);){var w=L.add(x);w.l(C)<=0&&(O=O.add(I),L=w),x=Ut(x,1),I=Ut(I,1)}return b=ft(C,O.j(b)),new mt(O,b)}for(O=A;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=_(I),w=L.j(b);nt(w)||w.l(C)>0;)I-=x,L=_(I),w=L.j(b);Z(L)&&(L=D),O=O.add(L),C=ft(C,w)}return new mt(O,C)}a.B=function(C){return Qt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const x=C.g.length-I,O=[];for(let L=0;L<x;L++)O[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Gs=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,gl,DE,Rc,qd,OE,VE,ME;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in v))break t;v=v[k]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,k,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[k].apply(T,J)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const B=k.length||0;u.length=v+B;for(let J=0;J<B;J++)u[v+J]=k[J]}else u.push(k)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new nt(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,O),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=k,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(v in T)u[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=St(u,m,T,k);return J>-1?(m=u[J],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,k),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(T,k,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return k}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,v,T,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,k);return null}return v=co(v),u&&u[Ne]?u.J(m,v,g(T)?!!T.capture:!1,k):nr(u,m,v,!1,T,k)}function nr(u,m,v,T,k,B){if(!m)throw Error("Invalid event type");const J=g(k)?!!k.capture:!!k;let Tt=ir(u);if(Tt||(u[Mt]=Tt=new rt(u)),v=Tt.add(m,v,T,J,B),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(k=J),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Xr(u,m,v,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xr(u,m[B],v,T,k);else T=g(T)?!!T.capture:!!T,v=co(v),u&&u[Ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,k),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,k)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ir(m))?(pt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ct(u)}}}function Zn(u){return u in De?De[u]:De[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function ir(u){return u=u[Mt],u instanceof rt?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function ye(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}A(ye,x),ye.prototype[Ne]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var k=m;m=new O(T,u),et(m,k)}k=!0;let B,J;if(v)for(J=v.length-1;J>=0;J--)B=m.g=v[J],k=is(B,T,!0,m)&&k;if(B=m.g=u,k=is(B,T,!0,m)&&k,k=is(B,T,!1,m)&&k,v)for(J=0;J<v.length;J++)B=m.g=v[J],k=is(B,T,!1,m)&&k}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==v){const Tt=J.listener,fe=J.ha||J.src;J.fa&&pt(u.i,J),k=Tt.call(fe,T)!==!1&&k}}return k&&!T.defaultPrevented}function Eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fl(u){u.g=Eh(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){x.call(this),this.h=u,this.g={}}A(sr,x);var ho=[];function fo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),fo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Th=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Kl(){}function Yl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}A(Pe,O);function En(){O.call(this,"c")}A(En,O);var he={},Xl=null;function Zr(){return Xl=Xl||new ye}he.Ia="serverreachability";function $l(u){O.call(this,he.Ia,u)}A($l,O);function Jn(u){const m=Zr();Oe(m,new $l(m))}he.STAT_EVENT="statevent";function rr(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}A(rr,O);function _e(u){const m=Zr();Oe(m,new rr(m,u))}he.Ja="timingevent";function Wn(u,m){O.call(this,he.Ja,u),this.size=m}A(Wn,O);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ah(u,m,v,T,k,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var fe=Tt[zt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const bn=re.split("_");J=bn.length>=2&&bn[1]=="type"?J+(re+"="+fe+"&"):J+(re+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+v+`
`+J})}function Zl(u,m,v,T,k,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+v+`
`+B+" "+J})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return ss(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function lr(){}A(lr,Kl),lr.prototype.g=function(){return new XMLHttpRequest},go=new lr;function Ci(u){return encodeURIComponent(String(u))}function Jl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function ni(u,m,v){u.M=1,u.A=ur(Te(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),ii(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=du(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(ho[0]=k.toString()),k=ho);for(let B=0;B<k.length;B++){const J=se(v,k[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Bn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||fe==7||(fe==8||zt<=0?Jn(3):Jn(2)),si(this);var m=this.g.ca();this.X=m;var v=bh(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,_e(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=tu(this,v),re==xe){Tt==4&&(this.m=4,_e(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ri(this,re);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(J),J.P=!0,_e(11))}}else ei(this.i,this.l,v,null),ri(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?uu(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Tn(this)}}}catch{}finally{}};function bh(u){if(!Wl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,k=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(k&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ii(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Jn(),_e(17)),hn(this),this.m=2,Tn(this)):Wr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||uu(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),fs(v);else break t;pr(v),_e(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let zt=k[m];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const bn=zt[3];bn!=null&&(v.ka=bn,v.j.info("VER="+v.ka));const mi=zt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Hn=u.g;if(Hn){const yr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const la=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Ht(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var J=u;if(T.na=fu(T,T.L?T.ba:null,T.W),J.L){vo(T.h,J);var Tt=J,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(si(Tt),ii(Tt)),T.g=J}else ou(T);v.i.length>0&&fi(v)}else zt[0]!="stop"&&zt[0]!="close"||di(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?di(v,7):Co(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}Jn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let k,B=null;T>=0?(k=u[v].substring(0,T),B=u[v].substring(T+1)):k=u[v],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,To(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),rs(this,m[4]),this.h=li(m[5]||"",!0),To(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ea,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cr(v,v.charAt(0)=="/"?Ao:nu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cr(v,iu)),u.join("")},fn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let J=0;J<k.length;){const Tt=k[J++];Tt=="."?T&&J==k.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==k.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=k}return v?m.h=T:v=u.i.toString()!=="",v?To(m,ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new fn(u)}function Ue(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof os?(u.i=m,ia(u.i,u.l)):(v||(m=cr(m,as)),u.i=new os(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function ur(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,nu=/[#\?:]/g,Ao=/[#\?]/g,as=/[#\?@]/g,iu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=os.prototype,a.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function su(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return sn(u),m=ls(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(k){u.call(m,k,T,this)},this)},this)};function bo(u,m){sn(u);let v=[];if(typeof m=="string")So(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){su(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),H(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const k=Ci(v);v=bo(this,v);for(let B=0;B<v.length;B++){let J=k;v[B]!==""&&(J+="="+Ci(v[B])),u.push(J)}}return this.i=u.join("&")};function ru(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const k=T.toLowerCase();T!=k&&(su(this,T),na(this,k,v))},u)),u.j=m}function zn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=S(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(An,v,"TestLoadImage: error",!1,m,T),T.onabort=S(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new Ln,T=new AbortController,k=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(v)}catch{}}function us(){this.g=new Ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ui,Kl),ui.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(hr,ye),a=hr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):jn(this),this.readyState==3&&sa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},a.Na=function(u){this.g&&(this.response=u,cs(this))},a.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function fr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Ci(v):Ht(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Kt,ye);var ci=/^https?$/i,Ro=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)v.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of v)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Ni(u)}function Io(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},a.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let J=String(u.D).match(eu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var k=Bn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Io(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Th(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Jl(u[T]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[k]||[];m[k]=B,B.push(v)}qt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=hs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),fi(this)};function Co(u){if(ra(u),u.I==3){var m=u.V++,v=Te(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),gr(u,v),m=new kn(u,u.j,m),m.M=2,m.A=ur(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}hu(u)}function fs(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ra(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.D=0}}function aa(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=au(this,k,m),v=Te(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),gr(this,v),B&&(this.R?m="headers="+Ci(Sn(B))+"&"+m:this.u&&fr(v,this.u,B)),_o(this.h,k),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),k.U=!0,ni(k,v,null)):ni(k,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),gr(u,T),u.u&&u.o&&fr(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),ni(v,T,m)}function gr(u,m){u.H&&Lt(u.H,function(v,T){Ht(m,T,v)}),u.l&&Lt({},function(v,T){Ht(m,T,v)})}function au(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var k=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=k[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let zt=!0;for(let re=0;re<v;re++){var B=k[re].g;const bn=k[re].map;if(B-=Tt,B<0)Tt=Math.max(0,k[re].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[mi,qn]of J){let Hn=qn;g(qn)&&(Hn=ss(qn)),fe.push(B+mi+"="+encodeURIComponent(Hn))}}catch(mi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(zt){J=fe.join("&");break t}}J=void 0}return u=u.i.splice(0,v),m.G=u,J}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),cu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fs(this),lu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ur(Te(m)),v.u=null,v.R=!0,Jr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,fs(this),pr(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var v=null;if(u.g==m){oa(u),Do(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Zr(),Oe(T,new Wn(T,v)),fi(u)}else ou(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const k=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ur(T),k?zn(T.toString(),v):wo(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),hu(u),ra(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,v){var T=v instanceof fn?Te(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),k&&rs(B,k),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),gr(u,T),T}function du(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:v})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}a=mu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}A(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Co(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,We.Z.N.call(this)};function gu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(gu,Pe);function pu(){En.call(this),this.status=1}A(pu,En);function Oi(u){this.g=u}A(Oi,mu),Oi.prototype.ra=function(){Oe(this.g,"a")},Oi.prototype.qa=function(u){Oe(this.g,new gu(u))},Oi.prototype.pa=function(u){Oe(this.g,new pu)},Oi.prototype.oa=function(){Oe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,ME=function(){return new ds},VE=function(){return Zr()},OE=he,qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Rc=or,mo.COMPLETE="complete",DE=mo,Yl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ye.prototype.listen=ye.prototype.J,gl=Yl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,NE=Kt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",J_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new fm("@firebase/firestore");function Pa(){return zr.logLevel}function st(a,...t){if(zr.logLevel<=Nt.DEBUG){const i=t.map(gm);zr.debug(`Firestore (${no}): ${a}`,...i)}}function Zi(a,...t){if(zr.logLevel<=Nt.ERROR){const i=t.map(gm);zr.error(`Firestore (${no}): ${a}`,...i)}}function Ya(a,...t){if(zr.logLevel<=Nt.WARN){const i=t.map(gm);zr.warn(`Firestore (${no}): ${a}`,...i)}}function gm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,xE(a,r,i)}function xE(a,t,i){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Bt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||xE(t,l,r)}function vt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class y1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new UE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class v1{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E1{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new v1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=A1(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(a,t){return a<t?-1:a>t?1:0}function Hd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Dd(l)===Dd(c)?Dt(l,c):Dd(l)?1:-1}return Dt(a.length,t.length)}const S1=55296,b1=57343;function Dd(a){const t=a.charCodeAt(0);return t>=S1&&t<=b1}function Xa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&dt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class Jt extends vi{construct(t,i,r){return new Jt(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return w1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new Fe([tv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Jt.fromString(t))}static fromName(t){return new ut(Jt.fromString(t).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function R1(a,t,i,r){if(t===!0&&r===!0)throw new it(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ev(a){if(!ut.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function nv(a){if(ut.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function kE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function sh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function Qs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(a);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(a,t){const i={typeString:a};return t&&(i.value=t),i}function kl(a,t){if(!kE(a))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-62135596800,sv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*sv);return new ne(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<iv)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function I1(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Xs(l,ut.empty(),t)}function C1(a){return new Xs(a.readTime,a.key,Rl)}class Xs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Xs(yt.min(),ut.empty(),Rl)}static max(){return new Xs(yt.max(),ut.empty(),Rl)}}function N1(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==D1)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++g,g===c&&r(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function V1(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function ah(a){return a==null}function Pc(a){return a===0&&1/a==-1/0}function M1(a){return typeof a=="number"&&Number.isInteger(a)&&!Pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function x1(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=rv(t)),t=U1(a.get(i),t);return rv(t)}function U1(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case PE:i+="";break;default:i+=c}}return i}function rv(a){return a+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Gr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function zE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Me(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const L1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const i=L1.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="server_timestamp",qE="__type__",HE="__previous_value__",GE="__local_write_time__";function _m(a){return(a?.mapValue?.fields||{})[qE]?.stringValue===BE}function oh(a){const t=a.mapValue.fields[HE];return _m(t)?oh(t):t}function Il(a){const t=$s(a.mapValue.fields[GE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,i,r,l,c,d,g,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const zc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||zc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__type__",P1="__max__",Ac={mapValue:{}},QE="__vector__",jc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?_m(a)?4:j1(a)?9007199254740991:z1(a)?10:11:dt(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const i=Js(a);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Il(a).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),g=$s(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Pc(d)===Pc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return Xa(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(av(d)!==av(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ii(d[y],g[y])))return!1;return!0})(a,t);default:return dt(52216,{left:a})}}function Nl(a,t){return(a.values||[]).find((i=>Ii(i,t)))!==void 0}function $a(a,t){if(a===t)return 0;const i=Js(a),r=Js(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,t);case 3:return lv(a.timestampValue,t.timestampValue);case 4:return lv(Il(a),Il(t));case 5:return Hd(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),y=Zs(d);return g.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Dt(g[_],y[_]);if(S!==0)return S}return Dt(g.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Dt(ge(c.latitude),ge(d.latitude));return g!==0?g:Dt(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return uv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[jc]?.arrayValue,S=y[jc]?.arrayValue,A=Dt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:uv(_,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const D=Hd(y[A],S[A]);if(D!==0)return D;const H=$a(g[y[A]],_[S[A]]);if(H!==0)return H}return Dt(y.length,S.length)})(a.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function lv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=$s(a),r=$s(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function uv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=$a(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function Za(a){return Gd(a)}function Gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=$s(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Zs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Gd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(a.mapValue):dt(61005,{value:a})}function Ic(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Ic(t):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Ic(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Gr(r.fields,((c,d)=>{l+=c.length+Ic(d)})),l})(a.mapValue);default:throw dt(13486,{value:a})}}function cv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Fd(a){return!!a&&"integerValue"in a}function vm(a){return!!a&&"arrayValue"in a}function hv(a){return!!a&&"nullValue"in a}function fv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cc(a){return!!a&&"mapValue"in a}function z1(a){return(a?.mapValue?.fields||{})[FE]?.stringValue===QE}function El(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Gr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=El(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(a.arrayValue.values[i]);return t}return{...a}}function j1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===P1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=El(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Gr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Mn(El(this.value))}}function KE(a){const t=[];return Gr(a.fields,((i,r)=>{const l=new Fe([i]);if(Cc(r)){const c=KE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,yt.min(),yt.min(),yt.min(),Mn.empty(),0)}static newFoundDocument(t,i,r,l){return new $e(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new $e(t,2,i,yt.min(),yt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,yt.min(),yt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),i.key):r=$a(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function mv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ii(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i="asc"){this.field=t,this.dir=i}}function B1(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class Ie extends YE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new H1(t,i,r):i==="array-contains"?new Q1(t,r):i==="in"?new K1(t,r):i==="not-in"?new Y1(t,r):i==="array-contains-any"?new X1(t,r):new Ie(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new G1(t,r):new F1(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends YE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return XE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(a){return a.op==="and"}function $E(a){return q1(a)&&XE(a)}function q1(a){for(const t of a.filters)if(t instanceof $n)return!1;return!0}function Qd(a){if(a instanceof Ie)return a.field.canonicalString()+a.op.toString()+Za(a.value);if($E(a))return a.filters.map((t=>Qd(t))).join(",");{const t=a.filters.map((i=>Qd(i))).join(",");return`${a.op}(${t})`}}function ZE(a,t){return a instanceof Ie?(function(r,l){return l instanceof Ie&&r.op===l.op&&r.field.isEqual(l.field)&&Ii(r.value,l.value)})(a,t):a instanceof $n?(function(r,l){return l instanceof $n&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&ZE(d,l.filters[g])),!0):!1})(a,t):void dt(19439)}function JE(a){return a instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(a):a instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(JE).join(" ,")+"}"})(a):"Filter"}class H1 extends Ie{constructor(t,i,r){super(t,i,r),this.key=ut.fromName(r.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class G1 extends Ie{constructor(t,i){super(t,"in",i),this.keys=WE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class F1 extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=WE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function WE(a,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class Q1 extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return vm(i)&&Nl(i.arrayValue,this.value)}}class K1 extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class Y1 extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class X1 extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Nl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function gv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new $1(a,t,i,r,l,c,d)}function Em(a){const t=vt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Qd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Za(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Za(r))).join(",")),t.Te=i}return t.Te}function Tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!B1(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ZE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!mv(a.startAt,t.startAt)&&mv(a.endAt,t.endAt)}function Kd(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Z1(a,t,i,r,l,c,d,g){return new ro(a,t,i,r,l,c,d,g)}function lh(a){return new ro(a)}function pv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tT(a){return a.collectionGroup!==null}function Tl(a){const t=vt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Dl(c,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Dl(Fe.keyField(),r))}return t.Ie}function Ti(a){const t=vt(a);return t.Ee||(t.Ee=J1(t,Tl(a))),t.Ee}function J1(a,t){if(a.limitType==="F")return gv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Dl(l.field,c)}));const i=a.endAt?new Bc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Bc(a.startAt.position,a.startAt.inclusive):null;return gv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Yd(a,t){const i=a.filters.concat([t]);return new ro(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function qc(a,t,i){return new ro(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return Tm(Ti(a),Ti(t))&&a.limitType===t.limitType}function eT(a){return`${Em(Ti(a))}|lt:${a.limitType}`}function za(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>JE(l))).join(", ")}]`),ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ut.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of Tl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=dv(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Tl(r),l)||r.endAt&&!(function(d,g,y){const _=dv(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Tl(r),l))})(a,t)}function W1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function nT(a){return(t,i)=>{let r=!1;for(const l of Tl(a)){const c=tw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function tw(a,t,i){const r=a.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?$a(y,_):dt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Gr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new oe(ut.comparator);function Ji(){return ew}const iT=new oe(ut.comparator);function pl(...a){let t=iT;for(const i of a)t=t.insert(i.key,i);return t}function sT(a){let t=iT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function xr(){return Al()}function rT(){return Al()}function Al(){return new Fr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const nw=new oe(ut.comparator),iw=new Me(ut.comparator);function Ot(...a){let t=iw;for(const i of a)t=t.add(i);return t}const sw=new Me(Dt);function rw(){return sw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function aT(a){return{integerValue:""+a}}function aw(a,t){return M1(t)?aT(t):Am(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function ow(a,t,i){return a instanceof Hc?(function(l,c){const d={fields:{[qE]:{stringValue:BE},[GE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_m(c)&&(c=oh(c)),c&&(d.fields[HE]=c),{mapValue:d}})(i,t):a instanceof Ol?lT(a,t):a instanceof Vl?uT(a,t):(function(l,c){const d=oT(l,c),g=yv(d)+yv(l.Ae);return Fd(d)&&Fd(l.Ae)?aT(g):Am(l.serializer,g)})(a,t)}function lw(a,t,i){return a instanceof Ol?lT(a,t):a instanceof Vl?uT(a,t):i}function oT(a,t){return a instanceof Gc?(function(r){return Fd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Hc extends hh{}class Ol extends hh{constructor(t){super(),this.elements=t}}function lT(a,t){const i=cT(t);for(const r of a.elements)i.some((l=>Ii(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Vl extends hh{constructor(t){super(),this.elements=t}}function uT(a,t){let i=cT(t);for(const r of a.elements)i=i.filter((l=>!Ii(l,r)));return{arrayValue:{values:i}}}class Gc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(a){return ge(a.integerValue||a.doubleValue)}function cT(a){return vm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function uw(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Ol&&l instanceof Ol||r instanceof Vl&&l instanceof Vl?Xa(r.elements,l.elements,Ii):r instanceof Gc&&l instanceof Gc?Ii(r.Ae,l.Ae):r instanceof Hc&&l instanceof Hc})(a.transform,t.transform)}class cw{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function hT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new dT(a.key,Xi.none()):new Pl(a.key,a.data,Xi.none());{const i=a.data,r=Mn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Qr(a.key,r,new Yn(l.toArray()),Xi.none())}}function hw(a,t,i){a instanceof Pl?(function(l,c,d){const g=l.value.clone(),y=vv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof Qr?(function(l,c,d){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=vv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(fT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(a,t,i,r){return a instanceof Pl?(function(c,d,g,y){if(!Nc(c.precondition,d))return g;const _=c.value.clone(),S=Ev(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof Qr?(function(c,d,g,y){if(!Nc(c.precondition,d))return g;const _=Ev(c.fieldTransforms,y,d),S=d.data;return S.setAll(fT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,t,i,r):(function(c,d,g){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function fw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=oT(r.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,c))}return i||null}function _v(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Xa(r,l,((c,d)=>uw(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Pl extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qr extends fh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function vv(a,t,i){const r=new Map;Bt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,lw(d,g,i[l]))}return r}function Ev(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,ow(c,d,t))}return r}class dT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=rT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=hT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,r)=>_v(i,r)))&&Xa(this.baseMutations,t.baseMutations,((i,r)=>_v(i,r)))}}class Sm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return nw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Sm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,xt;function yw(a){switch(a){case Y.OK:return dt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function mT(a){if(a===void 0)return Zi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return dt(39323,{code:a})}}(xt=Re||(Re={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Gs([4294967295,4294967295],0);function Tv(a){const t=_w().encode(a),i=new CE;return i.update(t),new Uint8Array(i.digest())}function Av(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,r],0),new Gs([l,c],0)]}class bm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Gs.fromNumber(r)));return l.compare(vw)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Tv(t),[r,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new bm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Tv(t),[r,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(yt.min(),l,new oe(Dt),Ji(),Ot())}}class zl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new zl(r,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class gT{constructor(t,i){this.targetId=t,this.Ce=i}}class pT{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Sv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:dt(38017,{changeType:c})}})),new zl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=bv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ew{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ji(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Kd(c))if(r===0){const d=new ut(c.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(r).toUint8Array()}catch(y){if(y instanceof jE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new bm(d,l,c)}catch(y){return Ya(y instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Kd(g.target)){const y=new ut(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,r);return this.je=Ji(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new oe(ut.comparator)}function bv(){return new oe(ut.comparator)}const Tw={asc:"ASCENDING",desc:"DESCENDING"},Aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sw={and:"AND",or:"OR"};class bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(a,t){return a.useProto3Json||ah(t)?t:{value:t}}function Fc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function ww(a,t){return Fc(a,t.toTimestamp())}function Ai(a){return Bt(!!a,49232),yt.fromTimestamp((function(i){const r=$s(i);return new ne(r.seconds,r.nanos)})(a))}function wm(a,t){return $d(a,t).canonicalString()}function $d(a,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function _T(a){const t=Jt.fromString(a);return Bt(ST(t),10190,{key:t.toString()}),t}function Zd(a,t){return wm(a.databaseId,t.path)}function Od(a,t){const i=_T(t);if(i.get(1)!==a.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(ET(i))}function vT(a,t){return wm(a.databaseId,t)}function Rw(a){const t=_T(a);return t.length===4?Jt.emptyPath():ET(t)}function Jd(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ET(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function wv(a,t,i){return{name:Zd(a,t),fields:i.value.mapValue.fields}}function Iw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Bt(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Bt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?Y.UNKNOWN:mT(_.code);return new it(S,_.message||"")})(d);i=new pT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(a,r.document.name),c=Ai(r.document.updateTime),d=r.document.createTime?Ai(r.document.createTime):yt.min(),g=new Mn({mapValue:{fields:r.document.fields}}),y=$e.newFoundDocument(l,c,d,g),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Dc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Od(a,r.document),c=r.readTime?Ai(r.readTime):yt.min(),d=$e.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Od(a,r.document),c=r.removedTargetIds||[];i=new Dc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new pw(l,c),g=r.targetId;i=new gT(g,d)}}return i}function Cw(a,t){let i;if(t instanceof Pl)i={update:wv(a,t.key,t.value)};else if(t instanceof dT)i={delete:Zd(a,t.key)};else if(t instanceof Qr)i={update:wv(a,t.key,t.data),updateMask:kw(t.fieldMask)};else{if(!(t instanceof dw))return dt(16599,{Vt:t.type});i={verify:Zd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw dt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(a,t.precondition)),i}function Nw(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(yt.min())&&(d=Ai(c)),new cw(d,l.transformResults||[])})(i,t)))):[]}function Dw(a,t){return{documents:[vT(a,t.path)]}}function Ow(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=vT(a,l);const c=(function(_){if(_.length!==0)return AT($n.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(D){return{field:ja(D.field),direction:xw(D.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Xd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Vw(a){let t=Rw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const D=TT(A);return D instanceof $n&&$E(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(Z){return new Dl(Ba(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,ah(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(A){const D=!!A.before,H=A.values||[];return new Bc(H,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,H=A.values||[];return new Bc(H,D)})(i.endAt)),Z1(t,l,d,c,g,"F",y,_)}function Mw(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ie.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((r=>TT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(a):dt(30097,{filter:a})}function xw(a){return Tw[a]}function Uw(a){return Aw[a]}function Lw(a){return Sw[a]}function ja(a){return{fieldPath:a.canonicalString()}}function Ba(a){return Fe.fromServerFormat(a.fieldPath)}function AT(a){return a instanceof Ie?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:Uw(i.op),value:i.value}}})(a):a instanceof $n?(function(i){const r=i.getFilters().map((l=>AT(l)));return r.length===1?r[0]:{compositeFilter:{op:Lw(i.op),filters:r}}})(a):dt(54877,{filter:a})}function kw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ST(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,i,r,l,c=yt.min(),d=yt.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.yt=t}}function zw(a){const t=Vw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.Cn=new Bw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Xs.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Bw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(Jt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(bT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LruGarbageCollector",qw=1048576;function Cv([a,t],[i,r]){const l=Dt(a,i);return l===0?Dt(t,r):l}class Hw{constructor(t){this.Ir=t,this.buffer=new Me(Cv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Gw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?st(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await io(i)}await this.Vr(3e5)}))}}class Fw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(rh.ce);const r=new Hw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Rv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(_=Date.now(),Pa()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function Qw(a,t){return new Fw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Sl(r.mutation,l,Yn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=pl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=xr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=Ji();const d=Al(),g=(function(){return Al()})();return i.forEach(((y,_)=>{const S=r.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Qr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Sl(S.mutation,_,S.mutation.getFieldMask(),ne.now())):d.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new Yw(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Al();let l=new oe(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=r.get(y)||Yn.empty();S=g.applyToLocalView(_,S),r.set(y,S);const A=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,A=rT();S.forEach((D=>{if(!c.has(D)){const H=hT(i.get(D),r.get(D));H!==null&&A.set(D,H),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(xr());let g=Rl,y=c;return d.next((_=>$.forEach(_,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((S=>({batchId:g,changes:sT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((r=>{let l=pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(y=>{const _=(function(A,D){return new ro(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((S=>{S.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,$e.newInvalidDocument(S)))}));let g=pl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Sl(S.mutation,_,Yn.empty(),ne.now()),ch(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zw(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.overlays=new oe(ut.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=xr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=xr(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new oe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=xr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=xr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return $.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new gw(i,r));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Qr=new Me(ke.$r),this.Ur=new Me(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ut(new Jt([])),r=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new Jt([])),r=new ke(i,t),l=new ke(i,t+1);let c=Ot();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ke.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ym:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Dt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ut.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ut(c),0);let g=new Me(Dt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ke(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let r=Ji();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Ji();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||N1(C1(S),r)<=0||(l.has(S.key)||ch(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){dt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new eR(this)}getSize(t){return $.resolve(this.size)}}class eR extends Kw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.persistence=t,this.si=new Fr((i=>Em(i)),Tm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new Jw,this.referenceDelegate=t(this),this.Pi=new nR(this),this.indexManager=new jw,this.remoteDocumentCache=(function(l){return new tR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Pw(i),this.Ii=new $w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Zw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Ww(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const l=new iR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class iR extends O1{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Ri=new Rm,this.Vi=null}static mi(t){return new Im(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ut.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.pi=new Fr((r=>x1(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Qw(this,i)}static mi(t,i){return new Qc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $S()?8:V1(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Pa()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Pa()<=Nt.DEBUG&&st("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Pa()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):$.resolve())}ys(t,i){if(pv(i))return $.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=qc(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,qc(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return pv(i)||l.isEqual(yt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Pa()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,I1(l,Rl)).next((g=>g)))}))}Ds(t,i){let r=new Me(nT(t));return i.forEach(((l,c)=>{ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Pa()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="LocalStore",aR=3e8;class oR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Dt),this.xs=new Fr((c=>Em(c)),Tm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function lR(a,t,i,r){return new oR(a,t,i,r)}async function RT(a,t){const i=vt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function uR(a,t){const i=vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const A=_.batch,D=A.keys();let H=$.resolve();return D.forEach((Z=>{H=H.next((()=>S.getEntry(y,Z))).next((nt=>{const W=_.docVersions.get(Z);Bt(W!==null,48541),nt.version.compareTo(W)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),S.addEntry(nt)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function IT(a){const t=vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cR(a,t){const i=vt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),l=l.insert(A,H),(function(nt,W,ft){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=aR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(D,H,S)&&g.push(i.Pi.updateTargetData(c,H))}));let y=Ji(),_=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(hR(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!r.isEqual(yt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function hR(a,t,i){let r=Ot(),l=Ot();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=Ji();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(Nm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function fR(a,t){const i=vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ym),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function dR(a,t){const i=vt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Bs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Wd(a,t,i){const r=vt(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;st(Nm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Nv(a,t,i){const r=vt(a);let l=yt.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=vt(y),D=A.xs.get(S);return D!==void 0?$.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,S)})(r,d,Ti(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((g=>(mR(r,W1(t),g),{documents:g,Qs:c})))))}function mR(a,t,i){let r=a.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Dv{constructor(){this.activeTargetIds=rw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gR{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function tm(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=tm(),g=this.zo(t,i.toUriEncodedString());st(Vd,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),S=Hr(_);return this.Jo(t,g,y,r,S).then((A=>(st(Vd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ya(Vd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=yR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class ER extends _R{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=tm();return new Promise(((g,y)=>{const _=new NE;_.setWithCredentials(!0),_.listenOnce(DE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Rc.NO_ERROR:const A=_.getResponseJson();st(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Rc.TIMEOUT:st(Ye,`RPC '${t}' ${d} timed out`),y(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const D=_.getStatus();if(st(Ye,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const nt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Et)>=0?Et:Y.UNKNOWN})(Z.status);y(new it(nt,Z.message))}else y(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(Y.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,r,15)}))}T_(t,i,r){const l=tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=ME(),g=VE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const S=c.join("");st(Ye,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let D=!1,H=!1;const Z=new vR({Yo:W=>{H?st(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(D||(st(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),st(Ye,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),nt=(W,ft,Et)=>{W.listen(ft,(mt=>{try{Et(mt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return nt(A,gl.EventType.OPEN,(()=>{H||(st(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),nt(A,gl.EventType.CLOSE,(()=>{H||(H=!0,st(Ye,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),nt(A,gl.EventType.ERROR,(W=>{H||(H=!0,Ya(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),nt(A,gl.EventType.MESSAGE,(W=>{if(!H){const ft=W.data[0];Bt(!!ft,16349);const Et=ft,mt=Et?.error||Et[0]?.error;if(mt){st(Ye,`RPC '${t}' stream ${l} received error:`,mt);const Qt=mt.status;let Wt=(function(b){const I=Re[b];if(I!==void 0)return mT(I)})(Qt),Ut=mt.message;Wt===void 0&&(Wt=Y.INTERNAL,Ut="Unknown error status: "+Qt+" with message "+mt.message),H=!0,Z.a_(new it(Wt,Ut)),A.close()}else st(Ye,`RPC '${t}' stream ${l} received:`,ft),Z.u_(ft)}})),nt(g,OE.STAT_EVENT,(W=>{W.stat===qd.PROXY?st(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===qd.NOPROXY&&st(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(a){return new bw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class NT{constructor(t,i,r,l,c,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TR extends NT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Iw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Jd(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Kd(y)?{documents:Dw(c,y)}:{query:Ow(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=yT(c,d.resumeToken);const _=Xd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Fc(c,d.snapshotVersion.toTimestamp());const _=Xd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=Mw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Jd(this.serializer),i.removeTarget=t,this.q_(i)}}class AR extends NT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Nw(t.writeResults,t.commitTime),r=Ai(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Jd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Cw(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{}class bR extends SR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,$d(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,$d(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="RemoteStore";class RR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Kr(this)&&(st(jr,"Restarting streams for network reachability change."),await(async function(y){const _=vt(y);_.Ea.add(4),await jl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Ra=new wR(r,l)}}async function gh(a){if(Kr(a))for(const t of a.da)await t(!0)}async function jl(a){for(const t of a.da)await t(!1)}function DT(a,t){const i=vt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Mm(i)?Vm(i):ao(i).O_()&&Om(i,t))}function Dm(a,t){const i=vt(a),r=ao(i);i.Ia.delete(t),r.O_()&&OT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Kr(i)&&i.Ra.set("Unknown"))}function Om(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(a).Y_(t)}function OT(a,t){a.Va.Ue(t),ao(a).Z_(t)}function Vm(a){a.Va=new Ew({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ao(a).start(),a.Ra.ua()}function Mm(a){return Kr(a)&&!ao(a).x_()&&a.Ia.size>0}function Kr(a){return vt(a).Ea.size===0}function VT(a){a.Va=void 0}async function IR(a){a.Ra.set("Online")}async function CR(a){a.Ia.forEach(((t,i)=>{Om(a,t)}))}async function NR(a,t){VT(a),Mm(a)?(a.Ra.ha(t),Vm(a)):a.Ra.set("Unknown")}async function DR(a,t,i){if(a.Ra.set("Online"),t instanceof pT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(r){st(jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Kc(a,r)}else if(t instanceof Dc?a.Va.Ze(t):t instanceof gT?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const r=await IT(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),OT(c,y);const A=new Bs(S.target,y,_,S.sequenceNumber);Om(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){st(jr,"Failed to raise snapshot:",r),await Kc(a,r)}}async function Kc(a,t,i){if(!so(t))throw t;a.Ea.add(1),await jl(a),a.Ra.set("Offline"),i||(i=()=>IT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(jr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function MT(a,t){return t().catch((i=>Kc(a,i,t)))}async function ph(a){const t=vt(a),i=Ws(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ym;for(;OR(t);)try{const l=await fR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,VR(t,l)}catch(l){await Kc(t,l)}xT(t)&&UT(t)}function OR(a){return Kr(a)&&a.Ta.length<10}function VR(a,t){a.Ta.push(t);const i=Ws(a);i.O_()&&i.X_&&i.ea(t.mutations)}function xT(a){return Kr(a)&&!Ws(a).x_()&&a.Ta.length>0}function UT(a){Ws(a).start()}async function MR(a){Ws(a).ra()}async function xR(a){const t=Ws(a);for(const i of a.Ta)t.ea(i.mutations)}async function UR(a,t,i){const r=a.Ta.shift(),l=Sm.from(r,t,i);await MT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function LR(a,t){t&&Ws(a).X_&&await(async function(r,l){if((function(d){return yw(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();Ws(r).B_(),await MT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(r)}})(a,t),xT(a)&&UT(a)}async function xv(a,t){const i=vt(a);i.asyncQueue.verifyOperationInProgress(),st(jr,"RemoteStore received new credentials");const r=Kr(i);i.Ea.add(3),await jl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function kR(a,t){const i=vt(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await jl(i),i.Ra.set("Unknown"))}function ao(a){return a.ma||(a.ma=(function(i,r,l){const c=vt(i);return c.sa(),new TR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:IR.bind(null,a),t_:CR.bind(null,a),r_:NR.bind(null,a),H_:DR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Mm(a)?Vm(a):a.Ra.set("Unknown")):(await a.ma.stop(),VT(a))}))),a.ma}function Ws(a){return a.fa||(a.fa=(function(i,r,l){const c=vt(i);return c.sa(),new AR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:MR.bind(null,a),r_:LR.bind(null,a),ta:xR.bind(null,a),na:UR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(st(jr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new xm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(a,t){if(Zi("AsyncQueue",`${t}: ${a}`),so(a))return new it(Y.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ut.comparator(i.key,r.key):(i,r)=>ut.comparator(i.key,r.key),this.keyedMap=pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.ga=new oe(ut.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Wa{constructor(t,i,r,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Wa(t,i,Ha.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zR{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=vt(i),c=l.queries;l.queries=Lv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Lv(){return new Fr((a=>eT(a)),uh)}async function LT(a,t){const i=vt(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new PR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Um(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Lm(i)}async function kT(a,t){const i=vt(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jR(a,t){const i=vt(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Lm(i)}function BR(a,t,i){const r=vt(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Lm(a){a.Ca.forEach((t=>{t.next()}))}var em,kv;(kv=em||(em={})).Ma="default",kv.Cache="cache";class PT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Wa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class qR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=nT(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const D=l.get(S),H=ch(this.query,A)?A:null,Z=!!D&&this.mutatedKeys.has(D.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;D&&H?D.data.isEqual(H.data)?Z!==nt&&(r.track({type:3,doc:H}),W=!0):this.su(D,H)||(r.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!D&&H?(r.track({type:0,doc:H}),W=!0):D&&!H&&(r.track({type:1,doc:D}),W=!0,(y||_)&&(g=!0)),W&&(H?(d=d.add(H),c=nt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(H,Z){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:W})}};return nt(H)-nt(Z)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new jT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const km="SyncEngine";class HR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class GR{constructor(t){this.key=t,this.hu=!1}}class FR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>eT(g)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ut.comparator),this.Au=new Map,this.Ru=new Rm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QR(a,t,i=!0){const r=QT(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(r,t,i,!0),l}async function KR(a,t){const i=QT(a);await BT(i,t,!0,!1)}async function BT(a,t,i,r){const l=await dR(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await YR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&DT(a.remoteStore,l),g}async function YR(a,t,i,r,l){a.pu=(A,D,H)=>(async function(nt,W,ft,Et){let mt=W.view.ru(ft);mt.Cs&&(mt=await Nv(nt.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,mt))));const Qt=Et&&Et.targetChanges.get(W.targetId),Wt=Et&&Et.targetMismatches.get(W.targetId)!=null,Ut=W.view.applyChanges(mt,nt.isPrimaryClient,Qt,Wt);return zv(nt,W.targetId,Ut.au),Ut.snapshot})(a,A,D,H);const c=await Nv(a.localStore,t,!0),d=new qR(t,c.Qs),g=d.ru(c.documents),y=zl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(g,a.isPrimaryClient,y);zv(a,i,_.au);const S=new HR(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function XR(a,t,i){const r=vt(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Dm(r.remoteStore,l.targetId),nm(r,l.targetId)})).catch(io)):(nm(r,l.targetId),await Wd(r.localStore,l.targetId,!0))}async function $R(a,t){const i=vt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(i.remoteStore,r.targetId))}async function ZR(a,t,i){const r=sI(a);try{const l=await(function(d,g){const y=vt(d),_=ne.now(),S=g.reduce(((H,Z)=>H.add(Z.key)),Ot());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Ji(),nt=Ot();return y.Ns.getEntries(H,S).next((W=>{Z=W,Z.forEach(((ft,Et)=>{Et.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next((W=>{A=W;const ft=[];for(const Et of g){const mt=fw(Et,A.get(Et.key).overlayedDocument);mt!=null&&ft.push(new Qr(Et.key,mt,KE(mt.value.mapValue),Xi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,ft,g)})).next((W=>{D=W;const ft=W.applyToLocalDocumentSet(A,nt);return y.documentOverlayCache.saveOverlays(H,W.batchId,ft)}))})).then((()=>({batchId:D.batchId,changes:sT(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Dt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Bl(r,l.changes),await ph(r.remoteStore)}catch(l){const c=Um(l,"Failed to persist write");i.reject(c)}}async function qT(a,t){const i=vt(a);try{const r=await cR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await Bl(i,r,t)}catch(r){await io(r)}}function Pv(a,t,i){const r=vt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=vt(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(g)&&(_=!0)})),_&&Lm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function JR(a,t,i){const r=vt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new oe(ut.comparator);d=d.insert(c,$e.newNoDocument(c,yt.min()));const g=Ot().add(c),y=new dh(yt.min(),new Map,new oe(Dt),d,g);await qT(r,y),r.du=r.du.remove(c),r.Au.delete(t),Pm(r)}else await Wd(r.localStore,t,!1).then((()=>nm(r,t,i))).catch(io)}async function WR(a,t){const i=vt(a),r=t.batch.batchId;try{const l=await uR(i.localStore,t);GT(i,r,null),HT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(i,l)}catch(l){await io(l)}}async function tI(a,t,i){const r=vt(a);try{const l=await(function(d,g){const y=vt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Bt(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(r.localStore,t);GT(r,t,i),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Bl(r,l)}catch(l){await io(l)}}function HT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function GT(a,t,i){const r=vt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function nm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||FT(a,r)}))}function FT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Dm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Pm(a))}function zv(a,t,i){for(const r of i)r instanceof zT?(a.Ru.addReference(r.key,t),eI(a,r)):r instanceof jT?(st(km,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||FT(a,r.key)):dt(19791,{wu:r})}function eI(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(st(km,"New document in limbo: "+i),a.Eu.add(r),Pm(a))}function Pm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ut(Jt.fromString(t)),r=a.fu.next();a.Au.set(r,new GR(i)),a.du=a.du.insert(i,r),DT(a.remoteStore,new Bs(Ti(lh(i.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function Bl(a,t,i){const r=vt(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Cm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const S=vt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(D=>$.forEach(D.Es,(H=>S.persistence.referenceDelegate.addReference(A,D.targetId,H))).next((()=>$.forEach(D.ds,(H=>S.persistence.referenceDelegate.removeReference(A,D.targetId,H)))))))))}catch(A){if(!so(A))throw A;st(Nm,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const H=S.Ms.get(D),Z=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(D,nt)}}})(r.localStore,c))}async function nI(a,t){const i=vt(a);if(!i.currentUser.isEqual(t)){st(km,"User change. New user:",t.toKey());const r=await RT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new it(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Bl(i,r.Ls)}}function iI(a,t){const i=vt(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function QT(a){const t=vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JR.bind(null,t),t.Pu.H_=jR.bind(null,t.eventManager),t.Pu.yu=BR.bind(null,t.eventManager),t}function sI(a){const t=vt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lR(this.persistence,new rR,t.initialUser,this.serializer)}Cu(t){return new wT(Im.mi,this.serializer)}Du(t){return new gR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class rI extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof Qc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new wT((r=>Qc.mi(r,i)),this.serializer)}}class im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await kR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zR})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=(function(c){return new ER(c)})(t.databaseInfo);return(function(c,d,g,y){return new bR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new RR(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new pR})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,S){const A=new FR(l,c,d,g,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=vt(i);st(jr,"RemoteStore shutting down."),r.Ea.add(5),await jl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class aI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{st(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Um(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function xd(a,t){a.asyncQueue.verifyOperationInProgress(),st(tr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await RT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function jv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await oI(a);st(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>xv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>xv(t.remoteStore,l))),a._onlineComponents=t}async function oI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(tr,"Using user provided OfflineComponentProvider");try{await xd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await xd(a,new Yc)}}else st(tr,"Using default OfflineComponentProvider"),await xd(a,new rI(void 0));return a._offlineComponents}async function YT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(tr,"Using user provided OnlineComponentProvider"),await jv(a,a._uninitializedComponentsProvider._online)):(st(tr,"Using default OnlineComponentProvider"),await jv(a,new im))),a._onlineComponents}function lI(a){return YT(a).then((t=>t.syncEngine))}async function sm(a){const t=await YT(a),i=t.eventManager;return i.onListen=QR.bind(null,t.syncEngine),i.onUnlisten=XR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$R.bind(null,t.syncEngine),i}function uI(a,t,i={}){const r=new Fs;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const S=new KT({next:D=>{S.Nu(),d.enqueueAndForget((()=>kT(c,A)));const H=D.docs.has(g);!H&&D.fromCache?_.reject(new it(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&y&&y.source==="server"?_.reject(new it(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new PT(lh(g.path),S,{includeMetadataChanges:!0,qa:!0});return LT(c,A)})(await sm(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qw)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}R1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new p1;switch(r.type){case"firstParty":return new E1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Bv.get(i);r&&(st("ComponentProvider","Removing Datastore"),Bv.delete(i),r.terminate())})(this),Promise.resolve()}}function cI(a,t,i,r={}){a=Qs(a,yh);const l=Hr(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(cm(`https://${g}`),hm("Firestore",!0)),c.host!==$T&&c.host!==g&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!kr(y,d)&&(a._setSettings(y),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=Xe.MOCK_USER;else{_=BS(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(A)}a._authCredentials=new y1(new UE(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new er(this.firestore,t,this._query)}}class pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(kl(i,pe._jsonSchema))return new pe(t,r||null,new ut(Jt.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class Ks extends er{constructor(t,i,r){super(t,i,lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new ut(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function ZT(a,t,...i){if(a=en(a),LE("collection","path",t),a instanceof yh){const r=Jt.fromString(t,...i);return nv(r),new Ks(a,null,r)}{if(!(a instanceof pe||a instanceof Ks))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Jt.fromString(t,...i));return nv(r),new Ks(a.firestore,null,r)}}function Br(a,t,...i){if(a=en(a),arguments.length===1&&(t=pm.newId()),LE("doc","path",t),a instanceof yh){const r=Jt.fromString(t,...i);return ev(r),new pe(a,null,new ut(r))}{if(!(a instanceof pe||a instanceof Ks))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Jt.fromString(t,...i));return ev(r),new pe(a.firestore,a instanceof Ks?a.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CT(this,"async_queue_retry"),this._c=()=>{const r=Md();r&&st(Gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;st(Gv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Qv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=xm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Ml extends yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function hI(a,t){const i=typeof a=="object"?a:mm(),r=typeof a=="string"?a:zc,l=ih(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=EE("firestore");c&&cI(l,...c)}return l}function zm(a){if(a._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||fI(a),a._firestoreClient}function fI(a){const t=a._freezeSettings(),i=(function(l,c,d,g){return new k1(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,XT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new aI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ce("string",xn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(kl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ce("string",Si._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^__.*__$/;class mI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Pl(t,this.data,i,this.fieldTransforms)}}function WT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:a})}}class Bm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WT(this.Ac)&&dI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Bm({Ac:t,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new gI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function pI(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);i0("Data must be an object, but it was:",d,r);const g=e0(r,d);let y,_;if(c.merge)y=new Yn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const D=_I(t,A,i);if(!d.contains(D))throw new it(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);EI(S,D)||S.push(D)}y=new Yn(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new mI(new Mn(g),y,_)}function yI(a,t,i,r=!1){return qm(i,a.Cc(r?4:3,t))}function qm(a,t){if(n0(a=en(a)))return i0("Unsupported field value:",t,a),e0(a,t);if(a instanceof JT)return(function(r,l){if(!WT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=qm(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:Fc(l.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,c)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:yT(l.serializer,r._byteString)};if(r instanceof pe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof bi)return(function(d,g){return{mapValue:{fields:{[FE]:{stringValue:QE},[jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Am(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${sh(r)}`)})(a,t)}function e0(a,t){const i={};return zE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(a,((r,l)=>{const c=qm(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function n0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Si||a instanceof xn||a instanceof pe||a instanceof JT||a instanceof bi)}function i0(a,t,i){if(!n0(i)||!kE(i)){const r=sh(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function _I(a,t,i){if((t=en(t))instanceof jm)return t._internalPath;if(typeof t=="string")return s0(a,t);throw Xc("Field path arguments must be of type string or ",a,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function s0(a,t,i){if(t.search(vI)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new jm(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Xc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new it(Y.INVALID_ARGUMENT,g+a+y)}function EI(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Hm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TI extends r0{data(){return super.data()}}function Hm(a,t){return typeof t=="string"?s0(a,t):t instanceof jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class Fm extends Gm{}function a0(a,t,...i){let r=[];t instanceof Gm&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Km)).length,g=c.filter((y=>y instanceof Qm)).length;if(d>1||d>0&&g>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class Qm extends Fm{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Qm(t,i,r)}_apply(t){const i=this._parse(t);return l0(t._query,i),new er(t.firestore,t.converter,Yd(t._query,i))}_parse(t){const i=t0(t.firestore);return(function(c,d,g,y,_,S,A){let D;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Xv(A,S);const Z=[];for(const nt of A)Z.push(Yv(y,c,nt));D={arrayValue:{values:Z}}}else D=Yv(y,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Xv(A,S),D=yI(g,d,A,S==="in"||S==="not-in");return Ie.create(_,S,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Km extends Gm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Km(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)l0(d,y),d=Yd(d,y)})(t._query,i),new er(t.firestore,t.converter,Yd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ym extends Fm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Ym(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(c,d)})(t._query,this._field,this._direction);return new er(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function o0(a,t="asc"){const i=t,r=Hm("orderBy",a);return Ym._create(r,i)}class Xm extends Fm{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new Xm(t,i,r)}_apply(t){return new er(t.firestore,t.converter,qc(t._query,this._limit,this._limitType))}}function SI(a){return Xm._create("limit",a,"F")}function Yv(a,t,i){if(typeof(i=en(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(Jt.fromString(i));if(!ut.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cv(a,new ut(r))}if(i instanceof pe)return cv(a,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function Xv(a,t){if(!Array.isArray(a)||a.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function l0(a,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class bI{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Gr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[jc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=oh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Jt.fromString(t);Bt(ST(r),9688,{name:t});const l=new Cl(r.get(1),r.get(3)),c=new ut(r.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends r0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Hm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Ce("string",Ur._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Oc extends Ur{data(t={}){return super.data(t)}}class Ga{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Oc(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:RI(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(a){a=Qs(a,pe);const t=Qs(a.firestore,Ml);return uI(zm(t),a._key).then((i=>c0(t,a,i)))}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ce("string",Ga._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class u0 extends bI{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function Zm(a,t,i){a=Qs(a,pe);const r=Qs(a.firestore,Ml),l=wI(a.converter,t);return II(r,[pI(t0(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Xi.none())])}function Jm(a,...t){a=en(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Kv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Kv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof pe)d=Qs(a.firestore,Ml),g=lh(a._key.path),c={next:y=>{t[r]&&t[r](c0(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=Qs(a,er);d=Qs(y.firestore,Ml),g=y._query;const _=new u0(d);c={next:S=>{t[r]&&t[r](new Ga(d,_,y,S))},error:t[r+1],complete:t[r+2]},AI(a._query)}return(function(_,S,A,D){const H=new KT(D),Z=new PT(S,H,A);return _.asyncQueue.enqueueAndForget((async()=>LT(await sm(_),Z))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>kT(await sm(_),Z)))}})(zm(d),g,l,c)}function II(a,t){return(function(r,l){const c=new Fs;return r.asyncQueue.enqueueAndForget((async()=>ZR(await lI(r),l,c))),c.promise})(zm(a),t)}function c0(a,t,i){const r=i.docs.get(t._key),l=new u0(a);return new Ur(a,l,t._key,r,new _l(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){no=l})(eo),Pr(new Ys("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Ml(new _1(r.getProvider("auth-internal")),new T1(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ei(Z_,J_,t),Ei(Z_,J_,"esm2020")})();function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CI=h0,f0=new Ul("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new fm("@firebase/auth");function NI(a,...t){$c.logLevel<=Nt.WARN&&$c.warn(`Auth (${eo}): ${a}`,...t)}function Vc(a,...t){$c.logLevel<=Nt.ERROR&&$c.error(`Auth (${eo}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(a,...t){throw Wm(a,...t)}function wi(a,...t){return Wm(a,...t)}function d0(a,t,i){const r={...CI(),[t]:i};return new Ul("auth","Firebase",r).create(t,{appName:a.name})}function Lr(a){return d0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return f0.create(a,...t)}function gt(a,t,...i){if(!a)throw Wm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Vc(t),new Error(t)}function ts(a,t){a||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){return typeof self<"u"&&self.location?.href||""}function DI(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DI()||KS()||"connection"in navigator)?navigator.onLine:!0}function VI(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=GS()||YS()}get(){return OI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(a,t){ts(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new ql(3e4,6e4);function eg(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function oo(a,t,i,r,l={}){return g0(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ll({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return QS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Hr(a.emulatorConfig.host)&&(_.credentials="include"),m0.fetch()(await p0(a,a.config.apiHost,i,g),_)})}async function g0(a,t,i){a._canInitEmulator=!1;const r={...MI,...t};try{const l=new kI(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(a,"user-disabled",d);const S=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw d0(a,S,_);Wi(a,S)}}catch(l){if(l instanceof ns)throw l;Wi(a,"network-request-failed",{message:String(l)})}}async function LI(a,t,i,r,l={}){const c=await oo(a,t,i,r,l);return"mfaPendingCredential"in c&&Wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?tg(a.config,l):`${a.config.apiScheme}://${l}`;return xI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),UI.get())})}}function wc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=wi(a,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(a,t){return oo(a,"POST","/v1/accounts:delete",t)}async function Zc(a,t){return oo(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zI(a,t=!1){const i=en(a),r=await i.getIdToken(t),l=ng(r);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:bl(Ud(l.auth_time)),issuedAtTime:bl(Ud(l.iat)),expirationTime:bl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(a){return Number(a)*1e3}function ng(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_E(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Zv(a){const t=ng(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ns&&jI(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function jI({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(a){const t=a.auth,i=await a.getIdToken(),r=await xl(a,Zc(t,{idToken:i}));gt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?y0(l.providerUserInfo):[],d=HI(a.providerData,c),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function qI(a){const t=en(a);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HI(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function y0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(a,t){const i=await g0(a,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await p0(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return a.emulatorConfig&&Hr(a.emulatorConfig.host)&&(y.credentials="include"),m0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FI(a,t){return oo(a,"POST","/v2/accounts:revokeToken",eg(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Zv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await GI(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new BI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zI(this,t)}reload(){return qI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await xl(this,PI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:H,providerData:Z,stsTokenManager:nt}=i;gt(A&&nt,t,"internal-error");const W=Fa.fromJSON(this.name,nt);gt(typeof A=="string",t,"internal-error"),Ls(r,t.name),Ls(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(g,t.name),Ls(y,t.name),Ls(_,t.name),Ls(S,t.name);const ft=new Xn({uid:A,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:S});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(Et=>({...Et}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(r);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function Yi(a){ts(a instanceof Function,"Expected a class definition");let t=Jv.get(a);return t?(ts(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Jv.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}_0.type="NONE";const Wv=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(a,t,i){return`firebase:${a}:${t}:${i}`}class Qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Qa(Yi(Wv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Yi(Wv);const d=Mc(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const D=await Zc(t,{idToken:S}).catch(()=>{});if(!D)break;A=await Xn._fromGetAccountInfoResponse(t,D,S)}else A=Xn._fromJSON(t,S);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b0(t))return"Blackberry";if(w0(t))return"Webos";if(E0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function v0(a=Ze()){return/firefox\//i.test(a)}function E0(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(a=Ze()){return/crios\//i.test(a)}function A0(a=Ze()){return/iemobile/i.test(a)}function S0(a=Ze()){return/android/i.test(a)}function b0(a=Ze()){return/blackberry/i.test(a)}function w0(a=Ze()){return/webos/i.test(a)}function ig(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function QI(a=Ze()){return ig(a)&&!!window.navigator?.standalone}function KI(){return XS()&&document.documentMode===10}function R0(a=Ze()){return ig(a)||S0(a)||w0(a)||b0(a)||/windows phone/i.test(a)||A0(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(a,t=[]){let i;switch(a){case"Browser":i=tE(Ze());break;case"Worker":i=`${tE(Ze())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(a,t={}){return oo(a,"GET","/v2/passwordPolicy",eg(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=6;class ZI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$I,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Lr(this));const i=t?en(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XI(this),i=new ZI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await FI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sg(a){return en(a)}class eE{constructor(t){this.auth=t,this.observer=null,this.addObserver=ib(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(a){rg=a}function tC(a){return rg.loadJS(a)}function eC(){return rg.gapiScript}function nC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(a,t){const i=ih(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(kr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function sC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function rC(a,t,i){const r=sg(a);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=C0(t),{host:d,port:g}=aC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(kr(_,r.config.emulator)&&kr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Hr(d)?(cm(`${c}//${d}${y}`),hm("Auth",!0)):oC()}function C0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function aC(a){const t=C0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:nE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:nE(d)}}}function nE(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function oC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(a,t){return LI(a,"POST","/v1/accounts:signInWithIdp",eg(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class qr extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ka(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Hl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ps.credential(i,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Hl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Hl{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return js.credential(i,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Xn._fromIdTokenResponse(t,r,l),d=iE(r);return new to({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=iE(r);return new to({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function iE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ns{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Wc(t,i,r,l)}}function O0(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(a,c,t,r):c})}async function uC(a,t,i=!1){const r=await xl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return to._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(a,t,i=!1){const{auth:r}=a;if(Kn(r.app))return Promise.reject(Lr(r));const l="reauthenticate";try{const c=await xl(a,O0(r,l,t,a),i);gt(c.idToken,r,"internal-error");const d=ng(c.idToken);gt(d,r,"internal-error");const{sub:g}=d;return gt(a.uid===g,r,"user-mismatch"),to._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(a,t,i=!1){if(Kn(a.app))return Promise.reject(Lr(a));const r="signIn",l=await O0(a,r,t),c=await to._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function fC(a,t,i,r){return en(a).onIdTokenChanged(t,i,r)}function dC(a,t,i){return en(a).beforeAuthStateChanged(t,i)}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1e3,gC=10;class M0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);KI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,gC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}M0.type="LOCAL";const pC=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}x0.type="SESSION";const U0=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new _h(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await yC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=ag("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function vC(a){Ri().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function EC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){return navigator?.serviceWorker?.controller||null}function AC(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebaseLocalStorageDb",SC=1,eh="firebaseLocalStorage",P0="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(a,t){return a.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function bC(){const a=indexedDB.deleteDatabase(k0);return new Gl(a).toPromise()}function om(){const a=indexedDB.open(k0,SC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(eh,{keyPath:P0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(eh)?t(r):(r.close(),await bC(),t(await om()))})})}async function sE(a,t,i){const r=vh(a,!0).put({[P0]:t,value:i});return new Gl(r).toPromise()}async function wC(a,t){const i=vh(a,!1).get(t),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function rE(a,t){const i=vh(a,!0).delete(t);return new Gl(i).toPromise()}const RC=800,IC=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>IC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(AC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new _C(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await sE(t,th,"1"),await rE(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>sE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>wC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const CC=z0;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(a,t){return t?Yi(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends N0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function DC(a){return hC(a.auth,new og(a),a.bypassAuthState)}function OC(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),cC(i,new og(a),a.bypassAuthState)}async function VC(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),uC(i,new og(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return OC;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new ql(2e3,1e4);class qa extends j0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MC.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="pendingRedirect",xc=new Map;class UC extends j0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const r=await LC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LC(a,t){const i=zC(t),r=PC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function kC(a,t){xc.set(a._key(),t)}function PC(a){return Yi(a._redirectPersistence)}function zC(a){return Mc(xC,a.config.apiKey,a.name)}async function jC(a,t,i=!1){if(Kn(a.app))return Promise.reject(Lr(a));const r=sg(a),l=NC(r,t),d=await new UC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=600*1e3;class qC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!B0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function B0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function HC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B0(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(a,t={}){return oo(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QC=/^https?/;async function KC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await GC(a);for(const i of t)try{if(YC(i))return}catch{}Wi(a,"unauthorized-domain")}function YC(a){const t=rm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!QC.test(i))return!1;if(FC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new ql(3e4,6e4);function oE(){const a=Ri().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function $C(a){return new Promise((t,i)=>{function r(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),i(wi(a,"network-request-failed"))},timeout:XC.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const l=nC("iframefcb");return Ri()[l]=()=>{gapi.load?r():i(wi(a,"network-request-failed"))},tC(`${eC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function ZC(a){return Uc=Uc||$C(a),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new ql(5e3,15e3),WC="__/auth/iframe",t2="emulator/auth/iframe",e2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?tg(t,t2):`https://${a.config.authDomain}/${WC}`,r={apiKey:t.apiKey,appName:a.name,v:eo},l=n2.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ll(r).slice(1)}`}async function s2(a){const t=await ZC(a),i=Ri().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:i2(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=wi(a,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},JC.get());function y(){Ri().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,o2=600,l2="_blank",u2="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c2(a,t,i,r=a2,l=o2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...r2,width:r.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(g=T0(_)?l2:i),v0(_)&&(t=t||u2,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[H,Z])=>`${D}${H}=${Z},`,"");if(QI(_)&&g!=="_self")return h2(t||"",g),new lE(null);const A=window.open(t||"",g,S);gt(A,a,"popup-blocked");try{A.focus()}catch{}return new lE(A)}function h2(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__/auth/handler",d2="emulator/auth/handler",m2=encodeURIComponent("fac");async function uE(a,t,i,r,l,c){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:eo,eventId:l};if(t instanceof D0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",nb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof Hl){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await a._getAppCheckToken(),_=y?`#${m2}=${encodeURIComponent(y)}`:"";return`${g2(a)}?${Ll(g).slice(1)}${_}`}function g2({config:a}){return a.emulator?tg(a,d2):`https://${a.authDomain}/${f2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class p2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=jC,this._overrideRedirectResult=kC}async _openPopup(t,i,r,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uE(t,i,r,rm(),l);return c2(t,c,ag())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await uE(t,i,r,rm(),l);return vC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await s2(t),r=new qC(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const c=l?.[0]?.[Ld];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=KC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return R0()||E0()||ig()}}const y2=p2;var cE="@firebase/auth",hE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(a){Pr(new Ys("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(a)},_=new JI(r,l,c,y);return sC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Pr(new Ys("auth-internal",t=>{const i=sg(t.getProvider("auth").getImmediate());return(r=>new _2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(cE,hE,v2(a)),Ei(cE,hE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=300,A2=AE("authIdTokenMaxAge")||T2;let fE=null;const S2=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>A2)return;const l=i?.token;fE!==l&&(fE=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function b2(a=mm()){const t=ih(a,"auth");if(t.isInitialized())return t.getImmediate();const i=iC(a,{popupRedirectResolver:y2,persistence:[CC,pC,U0]}),r=AE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=S2(c.toString());dC(i,d,()=>d(i.currentUser)),fC(i,g=>d(g))}}const l=vE("auth");return l&&rC(i,`http://${l}`),i}function w2(){return document.getElementsByTagName("head")?.[0]??document}WI({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",w2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,i,r,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Kn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||i.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(t){const i=await this.getAuthToken(),r=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:i,messagingToken:r,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="us-central1";class I2{constructor(t,i,r,l,c=lm,d=(...g)=>fetch(...g)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new R2(t,i,r,l),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=lm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${i}.cloudfunctions.net/${t}`}}function C2(a,t,i){const r=Hr(t);a.emulatorOrigin=`http${r?"s":""}://${t}:${i}`,r&&(cm(a.emulatorOrigin+"/backends"),hm("Functions",!0))}const dE="@firebase/functions",mE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="auth-internal",D2="app-check-internal",O2="messaging-internal";function V2(a){const t=(i,{instanceIdentifier:r})=>{const l=i.getProvider("app").getImmediate(),c=i.getProvider(N2),d=i.getProvider(O2),g=i.getProvider(D2);return new I2(l,c,d,g,r)};Pr(new Ys(q0,t,"PUBLIC").setMultipleInstances(!0)),Ei(dE,mE,a),Ei(dE,mE,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(a=mm(),t=lm){const r=ih(en(a),q0).getImmediate({identifier:t}),l=EE("functions");return l&&x2(r,...l),r}function x2(a,t,i){C2(en(a),t,i)}V2();const U2={apiKey:"your_actual_api_key_here",authDomain:"your-project.firebaseapp.com",projectId:"your-actual-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"your_actual_sender_id",appId:"your_actual_app_id"},lg=wE(U2),es=hI(lg);b2(lg);M2(lg);const L2=()=>{const[a,t]=ce.useState({source:"",target:"",consumerKey:"",consumerSecret:"",accessToken:"",accessTokenSecret:""}),[i,r]=ce.useState(!1);ce.useEffect(()=>{l()},[]);const l=async()=>{try{const g=Br(es,"settings","accounts"),y=await $m(g);y.exists()&&t(y.data())}catch(g){console.error("Error loading account settings:",g)}},c=async()=>{r(!0);try{await Zm(Br(es,"settings","accounts"),a),alert("Account settings saved successfully!")}catch(g){console.error("Error saving account settings:",g),alert("Error saving settings")}finally{r(!1)}},d=(g,y)=>{t(_=>({..._,[g]:y}))};return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"X Account Settings"}),M.jsx("span",{className:"status-badge status-active",children:"Active"})]}),M.jsx("p",{className:"card-subtitle",children:"Configure your source and target X accounts. Posts from Account A will be shared via Account B after AI analysis."}),M.jsxs("div",{className:"grid grid-2",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Source Account (Account A)"}),M.jsx("input",{type:"text",className:"form-input",placeholder:"@username",value:a.source,onChange:g=>d("source",g.target.value)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Target Account (Account B)"}),M.jsx("input",{type:"text",className:"form-input",placeholder:"@username",value:a.target,onChange:g=>d("target",g.target.value)})]})]}),M.jsxs("div",{className:"grid grid-2",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Consumer Key"}),M.jsx("input",{type:"password",className:"form-input",placeholder:"Enter consumer key",value:a.consumerKey,onChange:g=>d("consumerKey",g.target.value)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Consumer Secret"}),M.jsx("input",{type:"password",className:"form-input",placeholder:"Enter consumer secret",value:a.consumerSecret,onChange:g=>d("consumerSecret",g.target.value)})]})]}),M.jsxs("div",{className:"grid grid-2",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Access Token"}),M.jsx("input",{type:"password",className:"form-input",placeholder:"Enter access token",value:a.accessToken,onChange:g=>d("accessToken",g.target.value)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Access Token Secret"}),M.jsx("input",{type:"password",className:"form-input",placeholder:"Enter access token secret",value:a.accessTokenSecret,onChange:g=>d("accessTokenSecret",g.target.value)})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsxs("button",{className:"btn btn-primary",onClick:c,disabled:i,children:[i?M.jsx("div",{className:"spinner"}):"💾","Save Account Settings"]}),M.jsx("button",{className:"btn btn-secondary",children:"🔍 Test Account Connection"})]})]})},k2=()=>{const[a,t]=ce.useState([""]),[i,r]=ce.useState(300),[l,c]=ce.useState(!1);ce.useEffect(()=>{d()},[]);const d=async()=>{try{const A=Br(es,"settings","news"),D=await $m(A);if(D.exists()){const H=D.data();t(H.sources||[""]),r(H.scanFrequency||300)}}catch(A){console.error("Error loading news settings:",A)}},g=async()=>{c(!0);try{await Zm(Br(es,"settings","news"),{sources:a.filter(A=>A.trim()!==""),scanFrequency:i}),alert("News sources saved successfully!")}catch(A){console.error("Error saving news settings:",A),alert("Error saving settings")}finally{c(!1)}},y=()=>{t(A=>[...A,""])},_=A=>{t(D=>D.filter((H,Z)=>Z!==A))},S=(A,D)=>{t(H=>H.map((Z,nt)=>nt===A?D:Z))};return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"News Sources"}),M.jsx("span",{className:"status-badge status-active",children:"Monitoring"})]}),M.jsx("p",{className:"card-subtitle",children:"Add news websites to monitor. Published articles will be analyzed and shared if they match your keywords."}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"News Websites"}),a.map((A,D)=>M.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[M.jsx("input",{type:"url",className:"form-input",placeholder:"https://example.com/news",value:A,onChange:H=>S(D,H.target.value)}),a.length>1&&M.jsx("button",{className:"btn btn-secondary",onClick:()=>_(D),type:"button",children:"🗑️"})]},D)),M.jsx("button",{className:"btn btn-secondary",onClick:y,type:"button",children:"➕ Add Another Source"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Scan Frequency"}),M.jsxs("select",{className:"form-select",value:i,onChange:A=>r(Number(A.target.value)),children:[M.jsx("option",{value:60,children:"Every minute"}),M.jsx("option",{value:300,children:"Every 5 minutes"}),M.jsx("option",{value:600,children:"Every 10 minutes"}),M.jsx("option",{value:1800,children:"Every 30 minutes"}),M.jsx("option",{value:3600,children:"Every hour"})]}),M.jsxs("small",{style:{color:"var(--text-secondary)",marginTop:"0.5rem",display:"block"},children:["Current: ",i," seconds (",Math.round(i/60)," minutes)"]})]}),M.jsxs("button",{className:"btn btn-primary",onClick:g,disabled:l,children:[l?M.jsx("div",{className:"spinner"}):"💾","Save News Settings"]})]})},P2=()=>{const[a,t]=ce.useState([]),[i,r]=ce.useState("all");ce.useEffect(()=>{const g=a0(ZT(es,"foundContents"),o0("timestamp","desc")),y=Jm(g,_=>{const S=_.docs.map(A=>({id:A.id,...A.data()}));t(S)});return()=>y()},[]);const l=a.filter(g=>i==="all"?!0:g.status===i),c=g=>{const y={pending:{class:"status-pending",label:"Pending"},approved:{class:"status-active",label:"Approved"},posted:{class:"status-success",label:"Posted"},rejected:{class:"status-inactive",label:"Rejected"}},_=y[g]||y.pending;return M.jsx("span",{className:`status-badge ${_.class}`,children:_.label})},d=g=>g?new Date(g.toDate()).toLocaleString():"";return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"Found Contents"}),M.jsxs("span",{className:"status-badge status-active",children:[a.length," Items"]})]}),M.jsx("p",{className:"card-subtitle",children:"Recently discovered tweets and news articles that match your criteria."}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Filter by Status"}),M.jsxs("select",{className:"form-select",value:i,onChange:g=>r(g.target.value),children:[M.jsx("option",{value:"all",children:"All Contents"}),M.jsx("option",{value:"pending",children:"Pending Review"}),M.jsx("option",{value:"approved",children:"Approved"}),M.jsx("option",{value:"posted",children:"Posted"}),M.jsx("option",{value:"rejected",children:"Rejected"})]})]}),M.jsx("div",{className:"contents-list",children:l.length===0?M.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:"No contents found matching the current filter."}):l.map(g=>M.jsxs("div",{className:"content-item",children:[M.jsxs("div",{className:"content-header",children:[M.jsxs("div",{children:[M.jsxs("span",{className:"content-source",children:[g.type==="tweet"?"🐦 Tweet":"📰 News"," • ",g.source]}),M.jsx("div",{className:"content-date",children:d(g.timestamp)})]}),c(g.status)]}),M.jsx("div",{className:"content-text",children:g.content}),g.aiAnalysis&&M.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:["AI Analysis: ",g.aiAnalysis.sentiment," • Confidence: ",Math.round(g.aiAnalysis.confidence*100),"%"]}),M.jsxs("div",{className:"content-actions",children:[M.jsx("button",{className:"btn btn-success",disabled:g.status==="posted",children:"✅ Approve"}),M.jsx("button",{className:"btn btn-primary",disabled:g.status!=="approved",children:"🚀 Post Now"}),M.jsx("button",{className:"btn btn-secondary",children:"✏️ Edit"}),M.jsx("button",{className:"btn btn-warning",children:"❌ Reject"})]})]},g.id))})]})},z2=()=>{const[a,t]=ce.useState({keywords:["stocks","jumpy sales","rebots"],customText:"🚀 Check this out:",openaiApiKey:"",enableSentiment:!1,requireApproval:!0}),[i,r]=ce.useState(""),[l,c]=ce.useState(!1);ce.useEffect(()=>{d()},[]);const d=async()=>{try{const A=Br(es,"settings","ai"),D=await $m(A);D.exists()&&t(D.data())}catch(A){console.error("Error loading AI settings:",A)}},g=async()=>{c(!0);try{await Zm(Br(es,"settings","ai"),a),alert("AI settings saved successfully!")}catch(A){console.error("Error saving AI settings:",A),alert("Error saving settings")}finally{c(!1)}},y=()=>{i.trim()&&!a.keywords.includes(i.trim())&&(t(A=>({...A,keywords:[...A.keywords,i.trim()]})),r(""))},_=A=>{t(D=>({...D,keywords:D.keywords.filter(H=>H!==A)}))},S=(A,D)=>{t(H=>({...H,[A]:D}))};return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"Artificial Intelligence Settings"}),M.jsx("span",{className:"status-badge status-active",children:"AI Active"})]}),M.jsx("p",{className:"card-subtitle",children:"Configure AI analysis for content filtering and enhancement."}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Keywords for Analysis"}),M.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[M.jsx("input",{type:"text",className:"form-input",placeholder:"Enter new keyword",value:i,onChange:A=>r(A.target.value),onKeyPress:A=>A.key==="Enter"&&y()}),M.jsx("button",{className:"btn btn-secondary",onClick:y,children:"➕ Add"})]}),M.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:a.keywords.map((A,D)=>M.jsxs("span",{style:{background:"var(--primary-color)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A,M.jsx("button",{onClick:()=>_(A),style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"0.7rem"},children:"×"})]},D))})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Custom Text"}),M.jsx("input",{type:"text",className:"form-input",placeholder:"Text to add before shared content",value:a.customText,onChange:A=>S("customText",A.target.value)}),M.jsx("small",{style:{color:"var(--text-secondary)",marginTop:"0.5rem",display:"block"},children:"This text will be prepended to all shared content"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"OpenAI API Key"}),M.jsx("input",{type:"password",className:"form-input",placeholder:"sk-...",value:a.openaiApiKey,onChange:A=>S("openaiApiKey",A.target.value)})]}),M.jsxs("div",{className:"grid grid-2",children:[M.jsx("div",{className:"form-group",children:M.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[M.jsx("input",{type:"checkbox",checked:a.enableSentiment,onChange:A=>S("enableSentiment",A.target.checked)}),"Enable Sentiment Analysis"]})}),M.jsx("div",{className:"form-group",children:M.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[M.jsx("input",{type:"checkbox",checked:a.requireApproval,onChange:A=>S("requireApproval",A.target.checked)}),"Require Approval Before Sharing"]})})]}),M.jsxs("button",{className:"btn btn-primary",onClick:g,disabled:l,children:[l?M.jsx("div",{className:"spinner"}):"💾","Save AI Settings"]})]})},j2=()=>{const[a,t]=ce.useState({totalScanned:0,aiApproved:0,posted:0,rejected:0,lastScan:null,lastTweet:null,lastNews:null});ce.useEffect(()=>{const r=Br(es,"statistics","current"),l=Jm(r,c=>{c.exists()&&t(c.data())});return()=>l()},[]);const i=r=>r?new Date(r.toDate()).toLocaleString():"Never";return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"Statistics"}),M.jsx("span",{className:"status-badge status-active",children:"Live"})]}),M.jsxs("div",{className:"stats-grid",children:[M.jsxs("div",{className:"stat-card",children:[M.jsx("span",{className:"stat-number",children:a.totalScanned}),M.jsx("span",{className:"stat-label",children:"Total Scanned"})]}),M.jsxs("div",{className:"stat-card",children:[M.jsx("span",{className:"stat-number",children:a.aiApproved}),M.jsx("span",{className:"stat-label",children:"AI Approved"})]}),M.jsxs("div",{className:"stat-card",children:[M.jsx("span",{className:"stat-number",children:a.posted}),M.jsx("span",{className:"stat-label",children:"Posted"})]}),M.jsxs("div",{className:"stat-card",children:[M.jsx("span",{className:"stat-number",children:a.rejected}),M.jsx("span",{className:"stat-label",children:"Rejected"})]})]}),M.jsxs("div",{className:"grid grid-2",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Last Scan Time"}),M.jsx("div",{className:"form-input",style:{background:"var(--background-color)"},children:i(a.lastScan)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Last Tweet Posted"}),M.jsx("div",{className:"form-input",style:{background:"var(--background-color)"},children:i(a.lastTweet)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Last News Posted"}),M.jsx("div",{className:"form-input",style:{background:"var(--background-color)"},children:i(a.lastNews)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Success Rate"}),M.jsx("div",{className:"form-input",style:{background:"var(--background-color)"},children:a.totalScanned>0?`${Math.round(a.posted/a.totalScanned*100)}%`:"0%"})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("button",{className:"btn btn-secondary",children:"📊 Generate Detailed Report"}),M.jsx("button",{className:"btn btn-primary",children:"🔄 Refresh Statistics"})]})]})},B2=()=>{const[a,t]=ce.useState([]),[i,r]=ce.useState("all");ce.useEffect(()=>{const g=a0(ZT(es,"systemLogs"),o0("timestamp","desc"),SI(50)),y=Jm(g,_=>{const S=_.docs.map(A=>({id:A.id,...A.data()}));t(S)});return()=>y()},[]);const l=a.filter(g=>i==="all"?!0:g.level===i),c=g=>{const y={info:"var(--primary-color)",success:"var(--success-color)",warning:"var(--warning-color)",error:"var(--error-color)"};return y[g]||y.info},d=g=>g?new Date(g.toDate()).toLocaleString():"";return M.jsxs("div",{className:"card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h2",{className:"card-title",children:"System Logs"}),M.jsxs("span",{className:"status-badge status-active",children:[a.length," Entries"]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Filter by Level"}),M.jsxs("select",{className:"form-select",value:i,onChange:g=>r(g.target.value),children:[M.jsx("option",{value:"all",children:"All Logs"}),M.jsx("option",{value:"info",children:"Info"}),M.jsx("option",{value:"success",children:"Success"}),M.jsx("option",{value:"warning",children:"Warning"}),M.jsx("option",{value:"error",children:"Error"})]})]}),M.jsx("div",{className:"logs-container",children:l.length===0?M.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:"No logs found matching the current filter."}):l.map(g=>M.jsxs("div",{className:"log-entry",style:{borderLeftColor:c(g.level)},children:[M.jsxs("div",{className:"log-time",children:[d(g.timestamp),M.jsx("span",{style:{marginLeft:"1rem",color:c(g.level),fontWeight:"600"},children:g.level.toUpperCase()})]}),M.jsx("div",{className:"log-message",children:g.message})]},g.id))}),M.jsxs("div",{className:"form-group",children:[M.jsx("button",{className:"btn btn-secondary",children:"📥 Export Logs"}),M.jsx("button",{className:"btn btn-warning",children:"🗑️ Clear Old Logs"}),M.jsx("button",{className:"btn btn-primary",children:"🔄 Refresh Logs"})]})]})};function q2(){const[a,t]=ce.useState("account"),i=r=>{t(r);const l=document.getElementById(r);l&&l.scrollIntoView({behavior:"smooth",block:"start"})};return M.jsxs("div",{className:"app",children:[M.jsx(OS,{activeSection:a,scrollToSection:i}),M.jsxs("main",{className:"main-content",children:[M.jsx("section",{id:"account",className:"section",children:M.jsx(L2,{})}),M.jsx("section",{id:"news",className:"section",children:M.jsx(k2,{})}),M.jsx("section",{id:"contents",className:"section",children:M.jsx(P2,{})}),M.jsx("section",{id:"ai",className:"section",children:M.jsx(z2,{})}),M.jsx("section",{id:"stats",className:"section",children:M.jsx(j2,{})}),M.jsx("section",{id:"logs",className:"section",children:M.jsx(B2,{})})]})]})}DS.createRoot(document.getElementById("root")).render(M.jsx(AS.StrictMode,{children:M.jsx(q2,{})}));
//# sourceMappingURL=index-XAPwUyhM.js.map
